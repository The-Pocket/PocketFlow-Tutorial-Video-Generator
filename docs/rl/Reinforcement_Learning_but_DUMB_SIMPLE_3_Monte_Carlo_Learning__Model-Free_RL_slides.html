<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Reinforcement Learning, but DUMB SIMPLE #3: Monte Carlo Learning | Model-Free RL</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.2.1/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.2.1/theme/black.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/monokai.min.css">
</head>
<body>
    <div class="reveal">
        <div class="slides">
<!-- START CHAPTER 1 -->

<!-- Because this content recaps the previous video to set the stage, this is a POWER TEXT slide. Text analysis: "In our last video, we gave our agent a superpower: Dynamic Programming" (77 characters) is a good length for r-fit-text. I'll highlight "superpower" to emphasize the capability and use data-auto-animate to smoothly transition to the next slide which will elaborate on this concept. -->
<section data-auto-animate>
    <h1 class="r-fit-text">In our last video, we gave our agent a <mark>superpower</mark>...</h1>
</section>

<!-- This slide continues the recap from the previous one, so data-auto-animate is used for a seamless transition. This is a POWER TEXT slide that explains the "superpower." Text analysis: "Dynamic Programming" (20 characters) is a key term and gets its own spotlight for maximum impact. -->
<section data-auto-animate>
    <h1 class="r-fit-text">In our last video, we gave our agent a <mark>superpower</mark>...</h1>
    <h1 class="r-fit-text" style="color: #4CAF50;">Dynamic Programming.</h1>
</section>

<!-- This slide uses a metaphor to explain Dynamic Programming, making it a POWER TEXT slide. Text analysis: "It was like having a perfect, real-time satellite map of a city" (66 characters) is well within the r-fit-text sweet spot. Highlighting "perfect satellite map" reinforces the core idea of having complete information. -->
<section>
    <h2 class="r-fit-text">It was like having a <mark>perfect satellite map</mark> of a city.</h2>
</section>

<!-- This slide explains what the "perfect map" (the model) provides, making it an EDUCATIONAL slide. It uses a mermaid diagram to visually represent a "model" where all probabilities are known. This visual anchor is critical for the upcoming contrast with model-free learning. The mermaid diagram follows all critical requirements: dark theme, zoom for visibility, and proper node shapes. -->
<section>
    <h2 style="color: #4CAF50;">A map with a God-like view.</h2>
    <p style="font-size: 1.4em;">This perfect map is the <mark>model</mark> of the world.</p>
    <div class="mermaid" style="zoom: 2.5; margin-top: 40px;">
        %%{init: {'theme': 'dark'}}%%
        graph TD
            A[State A] -- "Action: Go Right" --> B(Known Outcome)
            B -- "Prob: 70%" --> C[State C]
            B -- "Prob: 30%" --> D[State D]
    </div>
    <p class="fragment fade-in" style="font-size: 1.2em; margin-top: 30px;">It knows the exact probability of everything.</p>
</section>

<!-- This slide serves as a dramatic transition, making it a POWER TEXT slide. Text analysis: "But here's the catch" (20 characters) is short and punchy. Highlighting "catch" in red emphasizes the shift from a perfect world to a problem. This creates anticipation for what's next. -->
<section>
    <h1 class="r-fit-text">But here's the <mark style="color: #ff6b6b;">catch</mark>.</h1>
</section>

<!-- This slide poses the central question of the chapter, making it a POWER TEXT slide. The text uses auto-animate to build from the previous slide's feeling of a problem. Text analysis: "What happens when you don't have a map?" (39 characters) is concise and effective for r-fit-text. The word "don't" is italicized for emphasis. -->
<section data-auto-animate>
    <h1 class="r-fit-text">What happens when you <em>don't</em> have a map?</h1>
</section>

<!-- This slide visually contrasts with the "perfect model" slide, making it an EDUCATIONAL slide. It re-uses the mermaid diagram structure but replaces known probabilities with question marks, creating a powerful visual representation of uncertainty. This "no model" context is critical and will be the foundation for the entire video. -->
<section>
    <h2 style="color: #ff6b6b;">What if you have NO model?</h2>
    <p style="font-size: 1.4em;">You don't know the rules. You have to learn by just... walking around.</p>
    <div class="mermaid" style="zoom: 2.5; margin-top: 40px;">
        %%{init: {'theme': 'dark'}}%%
        graph TD
            A[State A] -- "Action: Go Right" --> B(Unknown Outcome)
            B -- "Prob: ???" --> C[State C]
            B -- "Prob: ???" --> D[State D]
    </div>
</section>

<!-- This slide introduces the core concept of the entire series, making it a critical EDUCATIONAL slide. A side-by-side comparison is the most effective way to teach the distinction between model-based and model-free learning. The color-coding (red for the old way, green for the new) and concise bullet points make the complex idea easy to digest. No fragments are used so the comparison can be seen at once. -->
<section>
    <h1 style="margin-bottom: 50px;">The jump from <mark>Model-Based</mark> to <mark>Model-Free</mark></h1>
    <div style="display: flex; justify-content: space-around; gap: 40px; font-size: 1.2em;">
        <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #ff6b6b;">Model-Based (DP)</h2>
            <p>You have a perfect map.</p>
            <p>You learn by <mark>calculating</mark>.</p>
        </div>
        <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #4CAF50;">Model-Free (MC)</h2>
            <p>You have no map.</p>
            <p>You learn from <mark>experience</mark>.</p>
        </div>
    </div>
</section>

<!-- This is a POWER TEXT slide using auto-animate to create a punchy, multi-step declaration of the new paradigm. Text analysis: "We are throwing away the map" (28 characters) is short and impactful. It reinforces the model-free concept from the previous slide. -->
<section data-auto-animate>
    <h1 class="r-fit-text">We are throwing away the <mark>map</mark>.</h1>
</section>

<!-- This POWER TEXT slide continues the declaration from the previous one, using auto-animate for a smooth build. The repetition of the "throwing away" theme creates a strong rhythm. Text analysis: "We're getting rid of the rulebook" (32 characters) is another strong, concise statement. -->
<section data-auto-animate>
    <h1 class="r-fit-text">We are throwing away the <mark>map</mark>.</h1>
    <h1 class="r-fit-text">We're getting rid of the <mark>rulebook</mark>.</h1>
</section>

<!-- This POWER TEXT slide completes the three-part declaration. It provides the positive alternative to what was discarded. Text analysis: "We're going to learn from raw, direct experience" (49 characters) is a perfect concluding statement for this sequence, highlighting the core of Monte Carlo learning. -->
<section data-auto-animate>
    <h1 class="r-fit-text">We are throwing away the <mark>map</mark>.</h1>
    <h1 class="r-fit-text">We're getting rid of the <mark>rulebook</mark>.</h1>
    <h2 class="r-fit-text">We're going to learn from <mark style="color: #4CAF50;">raw, direct experience</mark>.</h2>
</section>

<!-- This is a POWER TEXT slide that formally names the concept just introduced. It's a title card for the main topic. The text is highlighted in green to signify this is the solution we will be exploring. -->
<section data-background-color="#000">
    <h1 class="r-fit-text" style="color: #4CAF50;">This is Monte Carlo Learning.</h1>
</section>

<!-- This POWER TEXT slide sets up the promise for the video. Text analysis: "By the end of this video..." (27 characters) is a classic hook that creates anticipation. It's kept separate for dramatic pacing. -->
<section data-auto-animate>
    <h2 class="r-fit-text">By the end of this video...</h2>
</section>

<!-- This POWER TEXT slide continues the promise, using auto-animate to build the sentence. Text analysis: "...you will understand how an agent learns the best strategy to win..." (68 characters) is within the optimal r-fit-text range. Highlighting "best strategy" focuses on the ultimate goal. -->
<section data-auto-animate>
    <h2 class="r-fit-text">By the end of this video...</h2>
    <h1 class="r-fit-text">you will understand how an agent learns the <mark style="color: #4CAF50;">best strategy</mark> to win...</h1>
</section>

<!-- This is the final POWER TEXT slide of the chapter, completing the promise. The phrase "from scratch" is emphasized in red to highlight the difficulty and power of the method, while "trial-and-error experience" is marked to define the learning mechanism. This creates a powerful and clear takeaway for the introduction. -->
<section data-auto-animate>
    <h2 class="r-fit-text">By the end of this video...</h2>
    <h1 class="r-fit-text">you will understand how an agent learns the <mark style="color: #4CAF50;">best strategy</mark> to win...</h1>
    <h1 class="r-fit-text">...using nothing but its own <mark>trial-and-error experience</mark>.</h1>
</section>

<!-- END CHAPTER 1 -->

<!-- START CHAPTER 2 -->

<!-- Because this content serves as a transition from the abstract concept of model-free learning to a concrete example, this is a POWER TEXT slide. Text analysis: "So, to learn from raw experience..." (33 characters) is a good length for r-fit-text. It sets a thoughtful tone and prepares the audience for the next step. -->
<section data-auto-animate>
    <h2 class="r-fit-text">So, to learn from raw experience...</h2>
</section>

<!-- This POWER TEXT slide continues the thought from the previous one, using data-auto-animate for a smooth build. Text analysis: "...our agent needs a world to get lost in" (40 characters) uses a metaphor to make the concept of an environment more engaging. -->
<section data-auto-animate>
    <h2 class="r-fit-text">So, to learn from raw experience...</h2>
    <h1 class="r-fit-text">our agent needs a world to get lost in.</h1>
</section>

<!-- This POWER TEXT slide builds on the previous two, still using data-auto-animate. Text analysis: "A challenge to overcome" (23 characters) is short, punchy, and clearly states the purpose of the environment we're about to build. -->
<section data-auto-animate>
    <h2 class="r-fit-text">So, to learn from raw experience...</h2>
    <h1 class="r-fit-text">our agent needs a world to get lost in.</h1>
    <h1 class="r-fit-text"><mark>A challenge to overcome.</mark></h1>
</section>

<!-- This POWER TEXT slide concludes the setup sequence with a call to action. Text analysis: "Let's build one" (15 characters) is a direct and engaging statement that transitions the audience from concept to creation. -->
<section data-auto-animate>
    <h2 class="r-fit-text" style="opacity: 0.3;">So, to learn from raw experience...</h2>
    <h1 class="r-fit-text" style="opacity: 0.3;">our agent needs a world to get lost in.</h1>
    <h1 class="r-fit-text" style="opacity: 0.3;"><mark>A challenge to overcome.</mark></h1>
    <h1 class="r-fit-text" style="color: #4CAF50; margin-top: 50px;">Let's build one.</h1>
</section>

<!-- Because this slide is the title card for our new problem environment, this is a POWER TEXT slide. Text analysis: "The 'Slippery Race'" (20 characters) is a memorable name and fits r-fit-text perfectly. The green color signals this is the core problem we'll be solving. -->
<section data-background-color="#000">
    <h1 class="r-fit-text" style="color: #4CAF50;">The 'Slippery Race'</h1>
</section>

<!-- Because this content introduces the problem setup with a visual diagram and rules, this is a TECHNICAL slide. This slide establishes the persistent context for the Slippery Race problem. The HTML table creates a clear visual of the 1D track, which is critical for all subsequent explanation slides. The rules are revealed with fragments to build the problem step-by-step. -->
<section data-auto-animate>
    <div style="padding: 20px;">
        <div style="background-color: #333; padding: 15px; border-radius: 10px; margin-bottom: 30px;">
            <h3 style="color: #4CAF50; margin: 0; font-size: 1.8em;">Problem: The Slippery Race</h3>
            <p style="font-size: 1.4em; margin: 10px 0 0 0;">A robot starts at S and must reach goal G.</p>
        </div>

        <table style="width: 80%; margin: 20px auto; border-collapse: collapse; font-size: 2em; text-align: center;">
            <tr>
                <td style="border: 3px solid #fff; padding: 20px; background-color: #4CAF50; color: #000;">S</td>
                <td style="border: 3px solid #fff; padding: 20px;">A</td>
                <td style="border: 3px solid #fff; padding: 20px;">B</td>
                <td style="border: 3px solid #fff; padding: 20px;">C</td>
                <td style="border: 3px solid #fff; padding: 20px; background-color: #4CAF50; color: #000;">G</td>
            </tr>
        </table>

        <div style="font-size: 1.2em; text-align: center; margin-top: 40px; line-height: 1.6;">
            <p><strong>Rules:</strong></p>
            <ul style="list-style: none; padding: 0;">
                <li>Actions: <strong>Move Left</strong> or <strong>Move Right</strong>.</li>
                <li>Every move costs <code style="color: #ff6b6b">-1</code> reward.</li>
                <li>Reaching Goal G gives <code style="color: #4CAF50">+10</code> reward.</li>
            </ul>
        </div>
    </div>
</section>

<!-- Because this slide poses a rhetorical question to challenge the audience's initial assumptions, this is a POWER TEXT slide. Text analysis: "Simple, right? Just always move right" (38 characters) is conversational and sets up the upcoming twist. -->
<section>
    <h1 class="r-fit-text">Simple, right?</h1>
    <h2 class="fragment fade-in r-fit-text">Just always move right.</h2>
</section>

<!-- Because this slide is a dramatic turn in the narrative, this is a POWER TEXT slide. Text analysis: "But there's a catch" (20 characters) is short and impactful, and highlighting "catch" in red signals a problem or complication. -->
<section>
    <h1 class="r-fit-text">But there's a <mark style="color: #ff6b6b;">catch.</mark></h1>
</section>

<!-- Because this slide reveals the critical hidden rule of the environment, this is a TECHNICAL slide. CRITICAL: The problem context box and track diagram MUST persist from the previous setup slide for continuity. Highlighting square 'C' in red visually connects it to the new "slippery" rule. The rule itself is explained with fragments for clarity. -->
<section data-auto-animate>
    <div style="padding: 20px;">
        <div style="background-color: #333; padding: 15px; border-radius: 10px; margin-bottom: 30px;">
            <h3 style="color: #4CAF50; margin: 0; font-size: 1.8em;">Problem: The Slippery Race</h3>
            <p style="font-size: 1.4em; margin: 10px 0 0 0;">A robot starts at S and must reach goal G.</p>
        </div>

        <table style="width: 80%; margin: 20px auto; border-collapse: collapse; font-size: 2em; text-align: center;">
            <tr>
                <td style="border: 3px solid #fff; padding: 20px; background-color: #4CAF50; color: #000;">S</td>
                <td style="border: 3px solid #fff; padding: 20px;">A</td>
                <td style="border: 3px solid #fff; padding: 20px;">B</td>
                <td style="border: 3px solid #fff; padding: 20px; background-color: #ff6b6b; color: #fff;">C</td>
                <td style="border: 3px solid #fff; padding: 20px; background-color: #4CAF50; color: #000;">G</td>
            </tr>
        </table>

        <div style="font-size: 1.2em; text-align: center; margin-top: 40px;">
            <p><strong style="color: #ff6b6b;">The Hidden Rule:</strong> Square C is slippery.</p>
            <div>
                <p>If at C and you choose <strong>Move Right</strong>:</p>
                <ul style="list-style: none; padding: 0;">
                    <li>50% chance → Succeed (reach G)</li>
                    <li>50% chance → SLIP! (sent back to B)</li>
                </ul>
            </div>
        </div>
    </div>
</section>

<!-- Because this content is the most important premise of the entire video, it's a POWER TEXT slide for maximum impact. Text analysis: "Our robot does not know this rule" (34 characters) is a direct, powerful statement. Highlighting "does not know" emphasizes the agent's ignorance, which is the core problem. -->
<section>
    <h2 style="font-size: 3em;">And here's the most important part...</h2>
    <h1 class="r-fit-text">Our robot <mark style="color: #ff6b6b;">does not know</mark> this rule.</h1>
</section>

<!-- Because this slide elaborates on the agent's ignorance, it's a POWER TEXT slide. Text analysis: "It has no idea about the 50/50 probability" (45 characters) is clear and concise. This reinforces the "no model" situation established in Chapter 1. -->
<section data-auto-animate>
    <h1 class="r-fit-text">It has no idea about the 50/50 probability.</h1>
</section>

<!-- This POWER TEXT slide uses auto-animate to build on the previous statement, explaining the agent's limited perspective. Text analysis: "All it knows is that sometimes, something weird happens" (55 characters) frames the problem from the agent's point of view, creating empathy and understanding. -->
<section data-auto-animate>
    <h1 class="r-fit-text">It has no idea about the 50/50 probability.</h1>
    <h2 class="r-fit-text">All it knows is that <em>sometimes</em>, something weird happens.</h2>
</section>

<!-- This POWER TEXT slide uses a powerful metaphor to connect back to the introduction. Text analysis: "The map is gone. The rulebook is a lie." (39 characters). Breaking this into two lines gives each part more weight. These phrases directly recall the theme from Chapter 1. -->
<section>
    <h1 class="r-fit-text">The map is gone.</h1>
    <h1 class="r-fit-text" style="margin-top: 40px;">The rulebook is a <mark style="color: #ff6b6b;">lie</mark>.</h1>
</section>

<!-- Because this is the thesis statement for why this problem matters, it's a POWER TEXT slide. Text analysis: "This single hidden rule is the entire reason we need Monte Carlo" (66 characters) is a perfect summary statement. Green color highlights "Monte Carlo" as the solution. -->
<section>
    <h1 class="r-fit-text">This single hidden rule is the entire reason we need <mark style="color: #4CAF50;">Monte Carlo</mark>.</h1>
</section>

<!-- Because this slide sets up a critical decision point for the agent, it's a TECHNICAL slide. The persistent context (diagram and rules) is essential. A side-by-side comparison clearly lays out the two conflicting options the agent faces at state C, which is highlighted to show the focus. -->
<section>
    <div style="padding: 20px;">
        <div style="background-color: #333; padding: 15px; border-radius: 10px; margin-bottom: 30px;">
            <h3 style="color: #4CAF50; margin: 0; font-size: 1.8em;">The Choice at Square C</h3>
        </div>
        <table style="width: 80%; margin: 10px auto; border-collapse: collapse; font-size: 1.5em; text-align: center;">
             <tr>
                <td style="border: 3px solid #fff; padding: 15px;">S</td><td style="border: 3px solid #fff; padding: 15px;">A</td><td style="border: 3px solid #fff; padding: 15px;">B</td>
                <td style="border: 3px solid #fff; padding: 15px; background-color: #ff6b6b; color: #fff; font-weight: bold;">C</td>
                <td style="border: 3px solid #fff; padding: 15px;">G</td>
            </tr>
        </table>
        <div style="display: flex; justify-content: space-around; gap: 40px; font-size: 1.2em; margin-top: 30px;">
            <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
                <h2 style="color: #ff6b6b;">Option 1: Move Right</h2>
                <p>The direct path, but it's <mark>risky</mark>.</p>
                <p>Could win instantly, or fail miserably.</p>
            </div>
            <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
                <h2 style="color: #4CAF50;">Option 2: Move Left</h2>
                <p>Seems crazy, moving <mark>away</mark> from the goal.</p>
                <p>But it's safe and predictable.</p>
            </div>
        </div>
    </div>
</section>

<!-- Because this slide explains how the old method fails, it's an EDUCATIONAL slide. It directly references the previous video's topic (Dynamic Programming) and uses a quote format to personify the algorithm's thinking. Highlighting the specific model component it needs (`p(s', r | s, a)`) makes the failure concrete. -->
<section>
    <h2 style="margin-bottom: 30px;">How would our old, model-based agent solve this?</h2>
    <div style="background-color: #3a2e2e; padding: 30px; border-radius: 10px; border-left: 5px solid #ff6b6b;">
        <h3 style="color: #ff6b6b; margin-top: 0;">The Dynamic Programming Agent says:</h3>
        <p style="font-size: 1.2em; line-height: 1.5;">
            "I need the transition probabilities: <code>p(s', r | s, a)</code>. What's the exact slip probability? 10%? 50%? 90%? <mark>Without that number, I'm stuck.</mark>"
        </p>
    </div>
</section>

<!-- Because this is a punchline summarizing the failure of the old method, this is a POWER TEXT slide. Text analysis: "It's paralyzed by the unknown" (30 characters) is a strong, evocative statement that fits r-fit-text well. -->
<section>
    <h1 class="r-fit-text" style="color: #ff6b6b;">It's paralyzed by the unknown.</h1>
</section>

<!-- Because this series of slides introduces our new hero, they are POWER TEXT slides designed for a dramatic reveal. "But now, meet our new agent." (29 characters) builds anticipation. -->
<section data-auto-animate>
    <h2 class="r-fit-text">But now, meet our new agent.</h2>
</section>

<!-- This POWER TEXT slide continues the reveal with data-auto-animate. "The Monte Carlo agent." (22 characters) is presented on its own line in green for maximum impact, branding it as the solution. -->
<section data-auto-animate>
    <h2 class="r-fit-text">But now, meet our new agent.</h2>
    <h1 class="r-fit-text" style="color: #4CAF50;">The Monte Carlo agent.</h1>
</section>

<!-- This final POWER TEXT slide in the sequence completes the introduction. "It thinks completely differently." (31 characters) sets the stage for the new mindset. -->
<section data-auto-animate>
    <h2 class="r-fit-text" style="opacity: 0.3;">But now, meet our new agent.</h2>
    <h1 class="r-fit-text" style="color: #4CAF50; opacity: 0.3;">The Monte Carlo agent.</h1>
    <h1 class="r-fit-text">It thinks completely differently.</h1>
</section>

<!-- Because this slide reveals the core logic of the Monte Carlo agent, it's a critical EDUCATIONAL slide. It's designed to contrast directly with the DP agent's slide, using a green-themed quote box. Highlighting the key data points (+2 vs -5) and the final decision ("Move Right") makes the empirical, experience-based reasoning crystal clear. -->
<section>
    <div style="background-color: #2e3a2e; padding: 30px; border-radius: 10px; border-left: 5px solid #4CAF50;">
        <h3 style="color: #4CAF50; margin-top: 0;">The Monte Carlo Agent thinks:</h3>
        <p style="font-size: 1.1em; line-height: 1.5;">
            "I don't know the slip probability, and I don't care. What I have is a <strong>notebook</strong>."
        </p>
        <div class="fragment fade-in" style="margin-top: 25px;">
            <h4 style="color: #4CAF50; margin-bottom: 15px;">📖 Square C Data:</h4>
            <div style="display: flex; justify-content: space-around; gap: 20px; margin-bottom: 20px;">
                <div style="background-color: rgba(76, 175, 80, 0.1); padding: 15px; border-radius: 8px; text-align: center; flex: 1;">
                    <p style="margin: 0; font-size: 1.1em;"><strong>Move Right</strong></p>
                    <p style="margin: 5px 0 0 0; font-size: 1.8em; color: #4CAF50; font-weight: bold;">+2</p>
                    <p style="margin: 0; font-size: 0.9em; opacity: 0.8;">(Last 100 attempts)</p>
                </div>
                <div style="background-color: rgba(255, 107, 107, 0.1); padding: 15px; border-radius: 8px; text-align: center; flex: 1;">
                    <p style="margin: 0; font-size: 1.1em;"><strong>Move Left</strong></p>
                    <p style="margin: 5px 0 0 0; font-size: 1.8em; color: #ff6b6b; font-weight: bold;">-5</p>
                    <p style="margin: 0; font-size: 0.9em; opacity: 0.8;">(Last 100 attempts)</p>
                </div>
            </div>
        </div>
        <p class="fragment fade-in" style="font-size: 1.2em; line-height: 1.5; margin-top: 20px; text-align: center;">
            <strong>"Easy choice: <mark style="background-color: #4CAF50; color: #fff; padding: 8px 15px; border-radius: 5px;">Move Right</mark>"</strong>
        </p>
    </div>
</section>

<!-- Because this slide names the new paradigm we've just witnessed, this is a POWER TEXT slide. Text analysis: "This is the Monte Carlo mindset." (32 characters) is a perfect, definitive statement to solidify the concept in the audience's mind. -->
<section data-background-color="#111">
    <h1 class="r-fit-text"><em>This</em> is the <mark style="color: #4CAF50;">Monte Carlo</mark> mindset.</h1>
</section>

<!-- Because this slide summarizes the core philosophy of Monte Carlo, it's a POWER TEXT slide. Text analysis: "It doesn't need to understand the physics of the slippery tile" (62 characters) directly contrasts with the model-based approach, making the distinction clear. -->
<section data-auto-animate>
    <h2 class="r-fit-text">It doesn't need to understand the physics of the slippery tile.</h2>
</section>

<!-- This final POWER TEXT slide of the chapter provides the positive definition of the Monte Carlo mindset, using data-auto-animate for a smooth transition. Text analysis: "It learns from a notebook filled with raw experience" (54 characters) is a powerful, memorable metaphor. Highlighting "raw experience" reinforces the central theme of the video. -->
<section data-auto-animate>
    <h2 class="r-fit-text" style="opacity: 0.3;">It doesn't need to understand the physics of the slippery tile.</h2>
    <h1 class="r-fit-text">It learns from a notebook filled with <mark style="color: #4CAF50;">raw experience</mark>.</h1>
</section>

<!-- END CHAPTER 2 -->

<!-- START CHAPTER 3 -->

<!-- Because this content introduces the core metaphor of the chapter—the paralyzed agent vs. the practical one—this is a POWER TEXT slide. Text analysis: "one agent is paralyzed by the unknown" (37 characters) is a great hook. I'll use data-auto-animate to build the contrast on the next slide. -->
<section data-auto-animate>
    <h1 class="r-fit-text">One agent is paralyzed by the unknown.</h1>
</section>

<!-- Because this slide completes the opening metaphor, it's a POWER TEXT slide using data-auto-animate for a smooth reveal. Text analysis: "...the other just pulls out a notebook" (36 characters) is a memorable and simple contrast. Highlighting "notebook" in green establishes it as the key tool for our new hero. -->
<section data-auto-animate>
    <h1 class="r-fit-text">One agent is paralyzed by the unknown.</h1>
    <h1 class="r-fit-text">...the other just pulls out a <mark style="color: #4CAF50;">notebook</mark>.</h1>
</section>

<!-- Because this slide clarifies that the metaphor represents a fundamental concept, this is a POWER TEXT slide. Text analysis: "This isn't just a cute story" (28 characters) primes the audience for a deeper explanation. This slide acts as a bridge from the story to the theory. -->
<section>
    <h2 class="r-fit-text">This isn't just a cute story.</h2>
</section>

<!-- Because this slide names the core concept, it's a POWER TEXT slide that defines the central theme of the video. Text analysis: "This is the fundamental... difference between model-based and model-free learning" (82 characters) is a perfect length for r-fit-text. Highlighting the two key terms makes the distinction visually clear. -->
<section>
    <h1 class="r-fit-text">This is the fundamental, game-changing difference between <mark>model-based</mark> and <mark>model-free</mark> learning.</h1>
</section>

<!-- Because this content re-establishes the specific problem the agents are facing, this is a TECHNICAL slide. CRITICAL: It re-uses the Slippery Race diagram from the previous chapter to provide persistent visual context. Viewers need to see the track and remember the choice at 'C' to understand the two agents' different approaches. Highlighting 'C' and stating the core dilemma is essential setup. -->
<section data-auto-animate>
    <div style="background-color: #333; padding: 15px; border-radius: 10px; margin-bottom: 30px;">
        <h3 style="color: #4CAF50; margin: 0; font-size: 1.8em;">The Choice at Square C</h3>
        <p style="font-size: 1.4em; margin: 10px 0 0 0;">The agent must choose: Right into danger, or Left into safety?</p>
    </div>
    <table style="width: 80%; margin: 40px auto; border-collapse: collapse; font-size: 2em; text-align: center;">
        <tr>
            <td style="border: 3px solid #fff; padding: 20px;">S</td>
            <td style="border: 3px solid #fff; padding: 20px;">A</td>
            <td style="border: 3px solid #fff; padding: 20px;">B</td>
            <td style="border: 3px solid #fff; padding: 20px; background-color: #ff6b6b; color: #fff; font-weight: bold;">C</td>
            <td style="border: 3px solid #fff; padding: 20px;">G</td>
        </tr>
    </table>
</section>

<!-- Because this slide explains the failure of the old method, it's an EDUCATIONAL slide. It uses a red-themed quote box to personify the Dynamic Programming agent's thinking, making the abstract concept of needing a model more concrete and relatable. Highlighting the missing probability `p(s', r | s, a)` pinpoints the exact reason for its failure. -->
<section>
    <h2 style="margin-bottom: 30px;">First, the <mark style="color: #ff6b6b;">Model-Based</mark> Thinker...</h2>
    <div style="background-color: #3a2e2e; padding: 30px; border-radius: 10px; border-left: 5px solid #ff6b6b;">
        <h3 style="color: #ff6b6b; margin-top: 0;">The Dynamic Programming Agent says:</h3>
        <p style="font-size: 1.2em; line-height: 1.5;">
            "I need <code>p(s', r | s, a)</code> for the Bellman equation. What's the <mark>exact probability</mark> of slipping? Without it, I'm stuck."
        </p>
    </div>
</section>

<!-- Because this is the punchline for the DP agent's failure, this is a POWER TEXT slide. Text analysis: "It's completely paralyzed" (24 characters) is a strong, concise summary. The red color reinforces the theme of failure and being stuck. -->
<section>
    <h1 class="r-fit-text" style="color: #ff6b6b;">It's completely paralyzed.</h1>
</section>

<!-- Because this slide contrasts the previous one by personifying the two mindsets, this is a POWER TEXT slide. Text analysis: "Book-smart, but zero street-smarts" (35 characters) is a memorable and effective way to summarize the DP agent's limitation, setting the stage for an agent with "street-smarts". -->
<section>
    <h2 class="r-fit-text">Book-smart.</h2>
    <h1 class="fragment fade-in r-fit-text">Zero street-smarts.</h1>
</section>

<!-- Because this slide introduces our new hero and its radically different approach, this is an EDUCATIONAL slide. It uses a green-themed quote box that directly contrasts with the previous red one. Highlighting "data" and "notebook" introduces the core tools of the Monte Carlo method. -->
<section>
    <h2 style="margin-bottom: 30px;">Now, the <mark style="color: #4CAF50;">Experience-Based</mark> Thinker...</h2>
    <div style="background-color: #2e3a2e; padding: 30px; border-radius: 10px; border-left: 5px solid #4CAF50;">
        <h3 style="color: #4CAF50; margin-top: 0;">The Monte Carlo Agent says:</h3>
        <p style="font-size: 1.2em; line-height: 1.5;">
            "Probability? Who cares. I've got something better: <mark>data</mark>. I've run this race thousands of times, and I kept a <mark>notebook</mark>. Let me check..."
        </p>
    </div>
</section>

<!-- Because this slide reveals the core data-driven insight of Monte Carlo, it's a critical EDUCATIONAL slide. It continues the green quote box for consistency. Revealing the average scores with fragments builds suspense and makes the final numbers more impactful. The contrasting colors for the scores (+2 in green, -5 in red) make the best choice instantly obvious. -->
<section>
    <div style="background-color: #2e3a2e; padding: 30px; border-radius: 10px; border-left: 5px solid #4CAF50;">
        <h3 style="color: #4CAF50; margin-top: 0;">*(flips through notebook...)*</h3>
        <p style="font-size: 1.2em; line-height: 1.5;">"Okay, the page for 'When at square C'..."</p>
        <div class="fragment fade-in" style="font-size: 1.2em; margin-top: 30px; text-align: center;">
            <p>Last 100 times I chose <strong>Move Right</strong>, average score was <strong style="font-size: 1.8em; color: #4CAF50;">+2</strong></p>
            <p style="margin-top: 20px;">Last 100 times I chose <strong>Move Left</strong>, average score was <strong style="font-size: 1.8em; color: #ff6b6b;">-5</strong></p>
        </div>
    </div>
</section>

<!-- Because this slide delivers the punchline of the Monte Carlo agent's logic, this is a POWER TEXT slide. Text analysis: "The choice is suddenly dumb simple" (34 characters) directly ties into the series title and highlights the method's elegance. -->
<section>
    <h1 class="r-fit-text">The choice is suddenly <mark>dumb simple</mark>.</h1>
</section>

<!-- Because this slide shows the final, logical conclusion of the agent, it's an EDUCATIONAL slide. It concludes the green quote box narrative. Highlighting the final decision ("Move Right") provides a clear and satisfying resolution to the agent's dilemma. -->
<section>
    <div style="background-color: #2e3a2e; padding: 30px; border-radius: 10px; border-left: 5px solid #4CAF50; font-size: 1.2em;">
        <p style="line-height: 1.5;">
            "Well, <strong style="color: #4CAF50;">+2</strong> is a hell of a lot better than <strong style="color: #ff6b6b;">-5</strong>. I'll take my chances and <mark style="background-color: #4CAF50; color: #fff; padding: 5px 10px; border-radius: 5px;">Move Right</mark>."
        </p>
    </div>
</section>

<!-- Because this is a definitive summary statement, this is a POWER TEXT slide. Text analysis: "This is the entire Monte Carlo mindset in a nutshell" (52 characters) is a perfect length for r-fit-text. It solidifies the previous example as the core philosophy. -->
<section data-background-color="#000">
    <h1 class="r-fit-text">This is the entire <mark style="color: #4CAF50;">Monte Carlo mindset</mark> in a nutshell.</h1>
</section>

<!-- Because this slide explains the "why" behind the mindset, it's a POWER TEXT slide. Text analysis: "It doesn't need to know the physics of the slippery tile" (59 characters) directly contrasts with the model-based approach, reinforcing the key difference. I'll use data-auto-animate to connect this thought to the next slide. -->
<section data-auto-animate>
    <h2 class="r-fit-text">It doesn't need to know the *physics* of the slippery tile...</h2>
</section>

<!-- Because this slide completes the thought from the previous one, it's a POWER TEXT slide using data-auto-animate. Text analysis: "...it just observes the final outcomes" (34 characters) is a simple and clear explanation of the agent's process. -->
<section data-auto-animate>
    <h2 class="r-fit-text" style="opacity: 0.3;">It doesn't need to know the *physics* of the slippery tile...</h2>
    <h1 class="r-fit-text">...it just observes the <mark>final outcomes</mark>.</h1>
</section>

<!-- Because this slide articulates the core mechanism of Monte Carlo, it's a POWER TEXT slide. Text analysis: "It replaces complex probability calculations with a simple, powerful tool" (78 characters) fits r-fit-text well and highlights the method's simplicity and power. -->
<section data-auto-animate>
    <h2 class="r-fit-text">It replaces complex probability calculations with a simple, powerful tool:</h2>
</section>

<!-- Because this slide reveals the "simple, powerful tool," it's a POWER TEXT slide that serves as a punchline. Text analysis: "the average of its past experiences" (35 characters) is the key takeaway. Highlighting "average" and "past experiences" in green emphasizes the core components of the solution. -->
<section data-auto-animate>
    <h2 class="r-fit-text" style="opacity: 0.3;">It replaces complex probability calculations with a simple, powerful tool:</h2>
    <h1 class="r-fit-text" style="margin-top: 50px;">the <mark style="color: #4CAF50;">average</mark> of its <mark style="color: #4CAF50;">past experiences</mark>.</h1>
</section>

<!-- Because this slide acts as an emotional reaction and a transition, it's a POWER TEXT slide. Text analysis: "This is incredible." (18 characters) is short and impactful, giving the audience a moment to appreciate the insight before introducing the next problem. -->
<section>
    <h1 class="r-fit-text">This is incredible.</h1>
</section>

<!-- Because this slide pivots from the solution to a new challenge, it's a POWER TEXT slide. Text analysis: "But it immediately leads to a new problem" (41 characters) uses the word "problem" and red color to signal a shift in the narrative, creating anticipation for the next chapter's topic. -->
<section>
    <h1 class="r-fit-text">But it immediately leads to a <mark style="color: #ff6b6b;">new problem</mark>.</h1>
</section>

<!-- Because this slide poses the central question for the next part of the series, it's a POWER TEXT slide. Text analysis: "How does the agent fill this notebook in the first place?" (58 characters) is a clear, engaging question that sets up the next topic perfectly. -->
<section>
    <h1 class="r-fit-text">How does the agent fill this notebook in the first place?</h1>
</section>

<!-- Because this slide explains the prerequisite for learning, it's a POWER TEXT slide using data-auto-animate. Text analysis: "To get these averages, it needs a strategy to follow" (53 characters) is a logical continuation of the previous question. -->
<section data-auto-animate>
    <h2 class="r-fit-text">To get these averages, it needs a strategy to follow.</h2>
</section>

<!-- Because this slide introduces the initial state of the agent's strategy, it's a POWER TEXT slide building on the previous one. Text analysis: "But what if its strategy is... just completely random?" (54 characters) highlights "random" to set up the problem of evaluating a potentially dumb starting policy. -->
<section data-auto-animate>
    <h2 class="r-fit-text">To get these averages, it needs a strategy to follow.</h2>
    <h1 class="r-fit-text">But what if its strategy is... just completely <mark>random</mark>?</h1>
</section>

<!-- Because this is the final slide of the chapter, it serves as a powerful hook for the next one. Text analysis: "Before we can improve... we first need a way to measure exactly how good—or how dumb—our current strategy actually is" is too long, so I'll break it up. The first part sets the stage. -->
<section data-auto-animate>
    <h2 class="r-fit-text">Before we can improve our policy...</h2>
</section>

<!-- This final POWER TEXT slide completes the hook for the next chapter. Text analysis: "we first need a way to measure... how good—or how dumb—our strategy is" is a strong concluding statement. Highlighting "measure" and the "good or dumb" contrast clearly defines the goal of the next chapter on Prediction. -->
<section data-auto-animate>
    <h2 class="r-fit-text" style="opacity: 0.3;">Before we can improve our policy...</h2>
    <h1 class="r-fit-text">we first need a way to <mark style="color: #4CAF50;">measure</mark>...</h1>
    <h1 class="r-fit-text">...how good—or how <mark style="color: #ff6b6b;">dumb</mark>—our current strategy is.</h1>
</section>

<!-- END CHAPTER 3 -->

<!-- START CHAPTER 4 -->

<!-- Because this content poses the central question for the chapter, this is a POWER TEXT slide. Text analysis: "So how do we do that?" (20 characters) is a short, direct question to engage the audience. It serves as a transition from the previous chapter's setup. -->
<section data-auto-animate>
    <h1 class="r-fit-text">So how do we do that?</h1>
</section>

<!-- Because this slide builds on the previous question, it's a POWER TEXT slide using data-auto-animate for a smooth reveal. Text analysis: "How do we fill the notebook?" (28 characters) directly references the core metaphor from the previous chapter, reinforcing the central theme. -->
<section data-auto-animate>
    <h1 class="r-fit-text">So how do we do that?</h1>
    <h2 class="r-fit-text">How do we fill the <mark>notebook</mark>?</h2>
</section>

<!-- Because this slide completes the opening question sequence, it's a POWER TEXT slide using data-auto-animate. Text analysis: "How do we measure a policy if we don't have the map?" (52 characters) is a perfect length for r-fit-text and explicitly states the core problem of model-free learning. -->
<section data-auto-animate>
    <h1 class="r-fit-text" style="opacity: 0.3;">So how do we do that?</h1>
    <h2 class="r-fit-text" style="opacity: 0.3;">How do we fill the <mark>notebook</mark>?</h2>
    <h1 class="r-fit-text">How do we measure a policy if we don't have the <mark style="color: #ff6b6b;">map</mark>?</h1>
</section>

<!-- Because this slide introduces the starting point for our agent's learning process, this is an EDUCATIONAL slide. CRITICAL: The Slippery Race diagram from Chapter 2 is brought back to provide persistent visual context. This is essential for viewers to understand what a "policy" means in this specific environment. The new concept, the "dumb strategy," is introduced with its formal notation (π). -->
<section data-auto-animate>
    <div style="padding: 20px;">
        <div style="background-color: #333; padding: 15px; border-radius: 10px; margin-bottom: 30px;">
            <h3 style="color: #4CAF50; margin: 0; font-size: 1.8em;">The Starting Point</h3>
            <p style="font-size: 1.4em; margin: 10px 0 0 0;">Our robot starts with a completely dumb strategy, its first <strong>policy (<code style="font-size: 1.2em;">π</code>)</strong>.</p>
        </div>
        <table style="width: 80%; margin: 20px auto 40px; border-collapse: collapse; font-size: 2em; text-align: center;">
            <tr>
                <td style="border: 3px solid #fff; padding: 20px;">S</td>
                <td style="border: 3px solid #fff; padding: 20px;">A</td>
                <td style="border: 3px solid #fff; padding: 20px;">B</td>
                <td style="border: 3px solid #fff; padding: 20px;">C</td>
                <td style="border: 3px solid #fff; padding: 20px;">G</td>
            </tr>
        </table>
        <div class="fragment fade-in" style="font-size: 1.5em; text-align: center;">
            <p>"At any square, there's a <mark>50/50 chance</mark> I'll move Left or Right."</p>
            <p class="fragment fade-in" style="margin-top: 30px; color: #ff6b6b;">It's totally random.</p>
        </div>
    </div>
</section>

<!-- Because this slide states a critical insight about the initial policy, this is a POWER TEXT slide. Text analysis: "This is a terrible policy" (25 characters) is a short, blunt statement for impact. -->
<section data-auto-animate>
    <h1 class="r-fit-text">This is a <mark style="color: #ff6b6b;">terrible</mark> policy.</h1>
</section>

<!-- Because this slide builds on the previous one to explain WHY we care about a bad policy, it's a POWER TEXT slide using data-auto-animate. Text analysis: "We know that" (11 characters) is conversational. "But before we can make it smarter..." (35 characters) sets up the core problem of this chapter. -->
<section data-auto-animate>
    <h1 class="r-fit-text" style="opacity: 0.3;">This is a <mark style="color: #ff6b6b;">terrible</mark> policy.</h1>
    <h1 class="r-fit-text" style="margin-top: 50px;">But before we can make it smarter...</h1>
</section>

<!-- Because this slide completes the thought with the chapter's main goal, this is a POWER TEXT slide using data-auto-animate. Text analysis: "...we have to know exactly how terrible it is" (43 characters) is a great length for r-fit-text. Highlighting "exactly how terrible" emphasizes the need for quantitative measurement. -->
<section data-auto-animate>
    <h1 class="r-fit-text" style="opacity: 0.3;">This is a <mark style="color: #ff6b6b;">terrible</mark> policy.</h1>
    <h1 class="r-fit-text" style="opacity: 0.3;">But before we can make it smarter...</h1>
    <h1 class="r-fit-text">...we have to know <mark>exactly how terrible</mark> it is.</h1>
</section>

<!-- Because this slide formally names the concept we just introduced, it's a POWER TEXT slide that acts as a title card. Text analysis: "This is the prediction problem" (29 characters) is concise and definitive. The green color signals this is a core concept we are about to solve. -->
<section data-background-color="#000">
    <h1 class="r-fit-text" style="color: #4CAF50;">This is the Prediction Problem.</h1>
</section>

<!-- Because this slide provides the formal definition of the prediction problem, this is an EDUCATIONAL slide. CRITICAL: The race track diagram persists to provide context for the terms "state s" and "value v(s)". The new terminology and notation are introduced step-by-step with fragments. -->
<section>
    <div style="padding: 20px;">
        <div style="background-color: #333; padding: 15px; border-radius: 10px; margin-bottom: 30px;">
            <h3 style="color: #4CAF50; margin: 0; font-size: 1.8em;">Policy Evaluation</h3>
            <p style="font-size: 1.4em; margin: 10px 0 0 0;">Our mission: Find the <strong>value</strong> for every state, under our current dumb policy.</p>
        </div>
        <table style="width: 80%; margin: 20px auto 40px; border-collapse: collapse; font-size: 2em; text-align: center;">
            <tr>
                <td style="border: 3px solid #fff; padding: 20px;">S</td>
                <td style="border: 3px solid #fff; padding: 20px;">A</td>
                <td style="border: 3px solid #fff; padding: 20px;">B</td>
                <td style="border: 3px solid #fff; padding: 20px;">C</td>
                <td style="border: 3px solid #fff; padding: 20px;">G</td>
            </tr>
        </table>
        <div class="fragment fade-in" style="font-size: 1.6em; text-align: center;">
            <p>We write the value of a state <code>s</code> as:</p>
            <p style="margin-top: 20px; font-family: monospace; font-size: 1.5em; color: #4CAF50;">v(s)</p>
        </div>
    </div>
</section>

<!-- Because this slide contrasts the new Monte Carlo approach with the old Dynamic Programming method, this is a POWER TEXT slide. Text analysis: "In Dynamic Programming, we used the complex Bellman equation" (62 characters) is a good length. Highlighting "Bellman equation" in red signals it's part of the old, inadequate method. -->
<section data-auto-animate>
    <h2 class="r-fit-text">In Dynamic Programming, we used the complex <mark style="color: #ff6b6b;">Bellman equation</mark>.</h2>
</section>

<!-- Because this slide explains WHY the old method fails, it's a POWER TEXT slide using data-auto-animate. Text analysis: "But that required the map! It needed the transition probabilities" (66 characters) is well within the r-fit-text sweet spot. Highlighting "required the map" in red emphasizes the critical dependency that we no longer have. -->
<section data-auto-animate>
    <h2 class="r-fit-text" style="opacity: 0.3;">In Dynamic Programming, we used the complex <mark style="color: #ff6b6b;">Bellman equation</mark>.</h2>
    <h1 class="r-fit-text">But that <mark style="color: #ff6b6b;">required the map!</mark></h1>
    <h2 class="r-fit-text">It needed the transition probabilities.</h2>
</section>

<!-- Because this slide introduces the simplicity of the new method, it's a POWER TEXT slide. Text analysis: "With Monte Carlo, the approach is ridiculously simple" (53 characters) is a strong, confident statement that builds anticipation for the solution. -->
<section>
    <h1 class="r-fit-text">With Monte Carlo, the approach is <mark style="color: #4CAF50;">ridiculously simple</mark>.</h1>
</section>

<!-- Because this slide reveals the single most important idea of the entire video, it is a POWER TEXT slide designed for maximum impact. Text analysis: "The value of a state is simply the average of the final scores you get, starting from that state" (100 characters) is a perfect, self-contained definition. It is presented alone on a black background for absolute focus. -->
<section data-background-color="#000">
    <h1 class="r-fit-text" style="color: #4CAF50;">State value = <mark>average</mark> of final scores from that state.</h1>
</section>

<!-- Because this slide is a reaction to the previous one, emphasizing its simplicity, this is a POWER TEXT slide. The text "That's it." now uses r-fit-text for better scaling. -->
<section>
    <h1 class="r-fit-text">That's it.</h1>
</section>

<!-- Because this slide reinforces the previous point, it's a POWER TEXT slide. Text analysis: "That's the entire idea" (23 characters) is short and powerful, driving home the simplicity of the Monte Carlo approach. -->
<section>
    <h1 class="r-fit-text">That's the <mark>entire</mark> idea.</h1>
</section>

<!-- Because this slide explains the practical application of the core idea, it's an EDUCATIONAL slide. CRITICAL: The race track diagram persists, but now with state 'B' highlighted to give a concrete example for `v(B)`. The explanation introduces the term "return" (the final score) and walks through the simple process of collecting and averaging data. -->
<section>
    <div style="padding: 20px;">
        <h3 style="color: #4CAF50; font-size: 1.8em;">How to find the value of Square B, or <code>v(B)</code>:</h3>
        <table style="width: 80%; margin: 20px auto 40px; border-collapse: collapse; font-size: 2em; text-align: center;">
            <tr>
                <td style="border: 3px solid #fff; padding: 20px;">S</td>
                <td style="border: 3px solid #fff; padding: 20px;">A</td>
                <td style="border: 3px solid #fff; padding: 20px; background-color: #4CAF50; color: #000; font-weight: bold;">B</td>
                <td style="border: 3px solid #fff; padding: 20px;">C</td>
                <td style="border: 3px solid #fff; padding: 20px;">G</td>
            </tr>
        </table>
        <div style="font-size: 1.3em; line-height: 1.6; text-align: left; margin-left: 5%;">
            <p class="fragment fade-in">1. Run a ton of races that start from or pass through B.</p>
            <p class="fragment fade-in">2. For each race, note the final <mark>reward</mark> from the moment you <mark style="color: #ff6b6b;">first</mark> hit B.</p>
            <p class="fragment fade-in">3. Write all those final scores down in the notebook.</p>
            <p class="fragment fade-in" style="margin-top: 20px; font-size: 1.4em;">4. <strong>Just <mark style="color: #4CAF50;">average</mark> them.</strong></p>
        </div>
    </div>
</section>

<!-- Because this slide addresses the audience's potential skepticism and transitions to the next chapter, it's a POWER TEXT slide. Text analysis: "It sounds almost too simple to work" (35 characters) validates the viewer's likely reaction and builds curiosity. -->
<section data-auto-animate>
    <h1 class="r-fit-text">It sounds almost <mark>too simple</mark> to work.</h1>
</section>

<!-- Because this slide continues the transition, it's a POWER TEXT slide using data-auto-animate. Text analysis: "So let's make this crystal clear" (31 characters) makes a promise to the viewer that we are about to provide concrete proof. -->
<section data-auto-animate>
    <h1 class="r-fit-text" style="opacity: 0.3;">It sounds almost <mark>too simple</mark> to work.</h1>
    <h1 class="r-fit-text">So let's make this crystal clear.</h1>
</section>

<!-- Because this is the final hook for the next chapter, this is a POWER TEXT slide. Text analysis: "Let's actually calculate the value for one of our states, Square B, race by painful race" (88 characters) is a perfect length for r-fit-text. It clearly states the goal for Chapter 5 and creates anticipation. -->
<section>
    <h1 class="r-fit-text">Let's actually <mark style="color: #4CAF50;">calculate the value</mark> for one of our states, Square B, race by painful race.</h1>
</section>

<!-- END CHAPTER 4 -->

<!-- START CHAPTER 5 -->


<!-- Because this slide formally states the goal of the chapter, this is a POWER TEXT slide. Text analysis: "Our mission is to calculate the value of being in state B" (58 characters) is a perfect length for r-fit-text. Using LaTeX for `v(B)` adds a touch of formality and connects to the notation from the previous chapter. -->
<section>
    <h2 class="r-fit-text">Our mission is to calculate the value of being in state <strong>B</strong>, which we'll call:</h2>
    <h1 class="fragment fade-in" style="font-size: 5em; color: #4CAF50;">\(v(B)\)</h1>
</section>

<!-- Because this slide recaps all the rules and conditions for the upcoming simulation, this is a critical TECHNICAL slide. CRITICAL: This establishes the persistent context box that MUST appear on all subsequent slides in this chapter. It combines the race track diagram with a clear, bulleted list of rules to ensure the audience has all necessary information visible for the step-by-step walkthrough. -->
<section data-auto-animate>
    <div style="padding: 20px;">
        <div data-id="context-box" style="background-color: #333; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
            <h3 style="color: #4CAF50; margin: 0; font-size: 1.6em;">The Setup: Slippery Race</h3>
            <div style="font-size: 1em; margin-top: 10px; line-height: 1.5;">
                <p><strong>Policy (π):</strong> 50/50 chance of moving Left or Right at any square.</p>
                <p><strong>Rewards:</strong> -1 per move, +10 for reaching the goal (G).</p>
                <p><strong>Hidden Rule:</strong> Moving Right from C has a 50% chance of slipping back to B.</p>
            </div>
        </div>
        <table style="width: 80%; margin: 20px auto; border-collapse: collapse; font-size: 1.5em; text-align: center;">
            <tr>
                <td style="border: 3px solid #fff; padding: 15px;">S</td>
                <td style="border: 3px solid #fff; padding: 15px;">A</td>
                <td style="border: 3px solid #fff; padding: 15px; background-color: #4CAF50; color: #000;">B</td>
                <td style="border: 3px solid #fff; padding: 15px;">C</td>
                <td style="border: 3px solid #fff; padding: 15px;">G</td>
            </tr>
        </table>
        <div style="text-align: center; margin-top: 30px;">
            <p style="font-size: 1.4em;"><strong>Our Tool:</strong> A notebook. The page for \(v(B)\) is completely blank.</p>
            <p class="fragment fade-in" style="font-size: 1.2em;">We have <mark style="color: #ff6b6b">zero data</mark>.</p>
        </div>
    </div>
</section>

<!-- Because this slide begins the step-by-step calculation, this is a TECHNICAL slide. CRITICAL: The context box from the previous slide persists at the top, which is essential for viewers to remember the rules while following the episode. The slide uses fragments to walk through the path, the key question, the calculation, and the final notebook update, making the process easy to follow. -->
<section data-auto-animate>
    <div style="padding: 20px;">
        <div data-id="context-box" style="background-color: #333; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
            <h3 style="color: #4CAF50; margin: 0; font-size: 1.6em;">The Setup: Slippery Race</h3>
            <div style="font-size: 1em; margin-top: 10px; line-height: 1.5;">
                <p><strong>Policy (π):</strong> 50/50 chance of moving Left or Right at any square.</p>
                <p><strong>Rewards:</strong> -1 per move, +10 for reaching the goal (G).</p>
                <p><strong>Hidden Rule:</strong> Moving Right from C has a 50% chance of slipping back to B.</p>
            </div>
        </div>
        
        <h2 style="color: #4CAF50;">Episode 1: A Long, Winding Road</h2>
        <table style="width: 40%; margin: 15px auto 30px; border-collapse: collapse; font-size: 1.1em; text-align: center;">
            <tr>
                <td style="border: 3px solid #fff; padding: 15px;">S</td>
                <td style="border: 3px solid #fff; padding: 15px;">A</td>
                <td style="border: 3px solid #fff; padding: 15px;">B</td>
                <td style="border: 3px solid #fff; padding: 15px;">C</td>
                <td style="border: 3px solid #fff; padding: 15px;">G</td>
            </tr>
        </table>
        <div style="font-size: 0.9em;">
            <p><strong>Path:</strong> <code>S → A → <mark>B</mark> → C → B → A → B → C → G</code></p>
            <div class="fragment fade-in">
                <p><strong>Key Question:</strong> What was the score from the <mark>first</mark> visit to B?</p>
                <p><strong>Sub-Journey:</strong> <code><mark>B</mark> → C → B → A → B → C → G</code> (6 moves)</p>
            </div>
            <div class="fragment fade-in" style="margin-top: 20px;">
                <p><strong>Return (G₁):</strong> (6 moves × -1) + 10 = <strong style="color: #4CAF50; font-size: 1.4em;">+4</strong></p>
            </div>
            <div class="fragment fade-in" style="margin-top: 30px; background-color: #222; padding: 15px; border-radius: 10px;">
                <p><strong>Notebook for v(B):</strong> Returns: <code>[4]</code>, Current Estimate: Average = <strong style="font-size: 1.4em;">4.0</strong></p>
            </div>
        </div>
    </div>
</section>

<!-- Because this slide continues the walkthrough with the second episode, this is a TECHNICAL slide using data-auto-animate for a smooth transition. The persistent context box is essential. The layout is identical to the previous slide, allowing the audience to easily compare the results and see how the notebook's estimate is updated with new data. Highlighting the updated average shows the learning in action. -->
<section data-auto-animate>
    <div style="padding: 20px;">
        <div data-id="context-box" style="background-color: #333; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
            <h3 style="color: #4CAF50; margin: 0; font-size: 1.6em;">The Setup: Slippery Race</h3>
            <div style="font-size: 1em; margin-top: 10px; line-height: 1.5;">
                <p><strong>Policy (π):</strong> 50/50 chance of moving Left or Right at any square.</p>
                <p><strong>Rewards:</strong> -1 per move, +10 for reaching the goal (G).</p>
                <p><strong>Hidden Rule:</strong> Moving Right from C has a 50% chance of slipping back to B.</p>
            </div>
        </div>
        
        <h2 style="color: #4CAF50;">Episode 2: A Lucky Break</h2>
        <table style="width: 60%; margin: 15px auto 30px; border-collapse: collapse; font-size: 1.5em; text-align: center;">
            <tr>
                <td style="border: 3px solid #fff; padding: 15px;">S</td>
                <td style="border: 3px solid #fff; padding: 15px;">A</td>
                <td style="border: 3px solid #fff; padding: 15px;">B</td>
                <td style="border: 3px solid #fff; padding: 15px;">C</td>
                <td style="border: 3px solid #fff; padding: 15px;">G</td>
            </tr>
        </table>
        <div style="font-size: 1.1em; line-height: 1.6;">
            <p><strong>Path:</strong> <code>S → A → <mark>B</mark> → C → G</code></p>
            <div class="fragment fade-in">
                <p><strong>Sub-Journey from first B:</strong> <code><mark>B</mark> → C → G</code> (2 moves)</p>
                <p><strong>Return (G₂):</strong> (2 moves × -1) + 10 = <strong style="color: #4CAF50; font-size: 1.4em;">+8</strong></p>
            </div>
            <div class="fragment fade-in" style="margin-top: 30px; background-color: #222; padding: 15px; border-radius: 10px;">
                <p><strong>Notebook for v(B):</strong> Returns: <code>[4, 8]</code>, New Estimate: (4 + 8) / 2 = <strong style="font-size: 1.4em;">6.0</strong></p>
            </div>
        </div>
    </div>
</section>

<!-- Because this slide presents the third and final episode in our walkthrough, this is a TECHNICAL slide, again using data-auto-animate. The persistent context and consistent layout are key to helping the audience focus on the new data and the resulting stability in the average. Showing that the estimate doesn't change this time is an important part of the story. -->
<section data-auto-animate>
    <div style="padding: 20px;">
        <div data-id="context-box" style="background-color: #333; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
            <h3 style="color: #4CAF50; margin: 0; font-size: 1.6em;">The Setup: Slippery Race</h3>
            <div style="font-size: 1em; margin-top: 10px; line-height: 1.5;">
                <p><strong>Policy (π):</strong> 50/50 chance of moving Left or Right at any square.</p>
                <p><strong>Rewards:</strong> -1 per move, +10 for reaching the goal (G).</p>
                <p><strong>Hidden Rule:</strong> Moving Right from C has a 50% chance of slipping back to B.</p>
            </div>
        </div>
        
        <h2 style="color: #4CAF50;">Episode 3: Another Slip</h2>
        <table style="width: 60%; margin: 15px auto 30px; border-collapse: collapse; font-size: 1.5em; text-align: center;">
            <tr>
                <td style="border: 3px solid #fff; padding: 15px;">S</td>
                <td style="border: 3px solid #fff; padding: 15px;">A</td>
                <td style="border: 3px solid #fff; padding: 15px;">B</td>
                <td style="border: 3px solid #fff; padding: 15px;">C</td>
                <td style="border: 3px solid #fff; padding: 15px;">G</td>
            </tr>
        </table>
        <div style="font-size: 1.1em; line-height: 1.6;">
            <p><strong>Path:</strong> <code>S → A → <mark>B</mark> → C → B → C → G</code></p>
            <div class="fragment fade-in">
                <p><strong>Sub-Journey from first B:</strong> <code><mark>B</mark> → C → B → C → G</code> (4 moves)</p>
                <p><strong>Return (G₃):</strong> (4 moves × -1) + 10 = <strong style="color: #4CAF50; font-size: 1.4em;">+6</strong></p>
            </div>
            <div class="fragment fade-in" style="margin-top: 30px; background-color: #222; padding: 15px; border-radius: 10px;">
                <p><strong>Notebook for v(B):</strong> Returns: <code>[4, 8, 6]</code>, New Estimate: (4 + 8 + 6) / 3 = <strong style="font-size: 1.4em;">6.0</strong></p>
            </div>
        </div>
    </div>
</section>

<!-- Because this slide summarizes the result of the manual calculation, this is a POWER TEXT slide. Text analysis: "After just three races, our estimate for the value of being in state B... is 6.0" is broken into two parts for rhythm and impact. The final number is highlighted in green. -->
<section>
    <h2 class="r-fit-text">After just three races, our estimate for the value of being in state B...</h2>
    <h1 class="fragment fade-in" style="font-size: 8em;">is <mark style="color: #4CAF50;">6.0</mark></h1>
</section>

<!-- Because this slide transitions from a small-scale example to the big-picture idea of convergence, this is a POWER TEXT slide. Text analysis: "Now, imagine we don't stop" (26 characters) is a short, evocative phrase that builds anticipation for what comes next. -->
<section data-auto-animate>
    <h1 class="r-fit-text">Now, imagine we don't stop.</h1>
</section>

<!-- Because this slide visualizes the concept of scaling up, this is a POWER TEXT slide using data-auto-animate. The progressive reveal of larger and larger numbers creates a sense of momentum and scale, driving home the idea of running many episodes. -->
<section data-auto-animate>
    <h2 style="font-size: 2em;">Imagine we run for...</h2>
    <h1 class="fragment fade-in" style="font-size: 2.5em;">100 episodes.</h1>
    <h1 class="fragment fade-in" style="font-size: 2.5em;">Then 1,000.</h1>
    <h1 class="fragment fade-in" style="font-size: 2.5em;">Then <mark>100,000</mark>.</h1>
</section>

<!-- Because this slide explains the statistical principle behind Monte Carlo, this is a POWER TEXT slide. Text analysis: "Each time, we add another return to our list" (43 characters) sets up the mechanism, and the following line explains the consequence. -->
<section data-auto-animate>
    <h2 class="r-fit-text">Each time, we add another return to our list.</h2>
    <h2 class="fragment fade-in r-fit-text">The list gets huge.</h2>
</section>

<!-- Because this slide reveals the key insight of the chapter—convergence—this is a POWER TEXT slide, building from the previous one with data-auto-animate. Text analysis: "But thanks to the law of large numbers, the average of that list will get closer and closer... to the TRUE value" is broken into two impactful lines. "TRUE value" is highlighted to emphasize that we're approaching the actual, correct answer. -->
<section data-auto-animate>
    <h2 class="r-fit-text" style="opacity: 0.3;">Each time, we add another return to our list.</h2>
    <h2 class="r-fit-text" style="opacity: 0.3;">The list gets huge.</h2>
    <h1 class="r-fit-text">But thanks to the law of large numbers...</h1>
    <h1 class="fragment fade-in r-fit-text">...the average gets closer and closer to the <mark style="color: #4CAF50;">TRUE</mark> value.</h1>
</section>

<!-- Because this slide delivers the final punchline of convergence in a single, powerful word, this is a POWER TEXT slide. Text analysis: "It converges." (12 characters) is short and definitive. It's presented alone for maximum impact. -->
<section>
    <h1 class="r-fit-text" style="color: #4CAF50;">It converges.</h1>
</section>

<!-- Because this slide summarizes the achievement in a relatable way, this is a POWER TEXT slide. Text analysis: "We just figured out the value of a state with absolutely no map, just a notebook and a lot of patience" (97 characters) is a perfect length for r-fit-text and encapsulates the core message of model-free learning. -->
<section>
    <h1 class="r-fit-text"><mark style="color: #ff6b6b;">No map needed.</mark> Just a notebook and patience.</h1>
</section>

<!-- Because this slide serves as a transition to the next chapter by giving a name to the process we just completed, this is a POWER TEXT slide. Text analysis: "This simple, manual process... is the absolute heart of Monte Carlo" is broken into two parts. "Heart of Monte Carlo" is highlighted in green to solidify its importance. -->
<section data-auto-animate>
    <h2 class="r-fit-text">This simple, manual process...</h2>
    <h1 class="r-fit-text">...is the absolute <mark style="color: #4CAF50;">heart of Monte Carlo</mark>.</h1>
</section>

<!-- Because this is the final hook for the next chapter, this is a POWER TEXT slide. Text analysis: "Now, let's formalize this into a proper algorithm we can actually code" (69 characters) is a clear call to action that sets up the audience's expectation for a more structured, code-ready explanation next. -->
<section>
    <h1 class="r-fit-text">Now, let's <mark>formalize</mark> this into a proper algorithm we can actually code.</h1>
</section>

<!-- END CHAPTER 5 -->

<!-- START CHAPTER 6 -->

<!-- Because this content presents the full, formal algorithm for the first time, this is a TECHNICAL slide. It's designed to be dense, showing the entire pseudocode at once so viewers have a complete reference. The code is formatted using highlight.js for readability. No fragments are used because the goal is to present the complete algorithm as a single unit. -->
<section>
    <h2 style="color: #4CAF50; margin-bottom: 20px;">Algorithm: Monte Carlo Prediction (First-Visit)</h2>
    <pre style="font-size: 0.9em; width: 90%; margin: 0 auto;"><code class="language-yaml" data-trim data-line-numbers style="max-height: 95vh; white-space: pre-wrap; word-wrap: break-word; overflow-wrap: break-word;">
Initialize:
  V(s) ← 0 for all states s
  Rewards(s) ← empty list for all states s

Loop forever (for each episode):
  Generate episode following policy π
  G ← 0
  
  For each step t, from end to beginning:
    G ← G + R_{t+1}
    
    If S_t first visit in this episode:
      Append G to Rewards(S_t)
      V(S_t) ← average(Rewards(S_t))
    </code></pre>
</section>

<!-- Because this slide addresses the audience's likely reaction to the dense code, this is a POWER TEXT slide. Text analysis: "I know what you’re thinking" (26 characters) is empathetic and builds connection. I'll use data-auto-animate to reveal the specific thought on the next slide. -->
<section data-auto-animate>
    <h1 class="r-fit-text">I know what you’re thinking.</h1>
</section>

<!-- Because this slide continues the thought from the previous one, it's a POWER TEXT slide using data-auto-animate. Text analysis: "That looks like complex code" (28 characters) validates the viewer's feeling. Highlighting "complex" in red acknowledges the perceived difficulty. -->
<section data-auto-animate>
    <h1 class="r-fit-text" style="opacity: 0.3;">I know what you’re thinking.</h1>
    <h1 class="r-fit-text">"That looks like <mark style="color: #ff6b6b;">complex</mark> code."</h1>
</section>

<!-- Because this slide provides reassurance and connects the formal algorithm back to the simple manual process, this is a POWER TEXT slide. Text analysis: "But I promise you, this is exactly what we just did with our notebook" (70 characters) is a perfect length for r-fit-text. Highlighting "exactly" emphasizes the direct parallel. -->
<section>
    <h1 class="r-fit-text">But I promise you, this is <mark>exactly</mark> what we just did with our notebook.</h1>
</section>

<!-- Because this slide breaks down the complex algorithm into a simple, three-step process, this is an EDUCATIONAL slide. It uses large, clear headings and simple descriptions, revealed with fragments, to make the core logic easy to remember. This plain-English explanation is crucial for demystifying the code. -->
<section>
    <h2 style="margin-bottom: 50px;">Three simple steps:</h2>
    <div style="font-size: 1.5em; line-height: 1.6; text-align: left; margin: 0 auto; width: 90%;">
        <p class="fragment fade-in"><strong>1. Play:</strong> Run a full episode following the policy.</p>
        <p class="fragment fade-in" style="margin-top: 30px;"><strong>2. Work Backwards:</strong> Calculate final scores from each point.</p>
        <p class="fragment fade-in" style="margin-top: 30px;"><strong>3. Average:</strong> Update the running average for each state.</p>
    </div>
</section>

<!-- Because this slide introduces a new, related concept, this is a POWER TEXT slide that acts as a section header. Text analysis: "A Quick Note: First-Visit vs. Every-Visit" (42 characters) is a clear and concise title for the upcoming comparison. -->
<section>
    <h1 class="r-fit-text">A Quick Note:</h1>
    <h2 class="r-fit-text" style="color: #4CAF50;">First-Visit vs. Every-Visit</h2>
</section>

<!-- Because this slide directly compares two different approaches, this is a TECHNICAL slide using a side-by-side layout. The `if` statement from the algorithm is shown as the key differentiator. The example path is repeated to provide clear context for how each method would treat the multiple visits to state B. -->
<section>
    <div style="background-color: #333; padding: 15px; border-radius: 10px; margin-bottom: 30px; text-align: center;">
        <h3 style="color: #4CAF50; margin: 0;">Example Path:</h3>
        <p style="font-size: 1.3em; margin: 10px 0 0 0;"><code>S → A → <mark style="background-color: #4CAF50; color: #000;">B</mark> → C → <mark style="background-color: #4CAF50; color: #000;">B</mark> → A → <mark style="background-color: #4CAF50; color: #000;">B</mark> → C → G</code></p>
    </div>
    <div style="display: flex; justify-content: space-around; gap: 40px; font-size: 1.1em;">
        <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px;">
            <h2 style="color: #4CAF50;">First-Visit MC</h2>
            <p><code>If S_t first visit:</code></p>
            <p class="fragment fade-in" style="margin-top: 20px;">Only count <mark>first</mark> B visit → <strong>1</strong> data point</p>
        </div>
        <div class="fragment fade-in" style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px;">
            <h2 style="color: #ff6b6b;">Every-Visit MC</h2>
            <p>Remove the <code>if</code> statement</p>
            <p class="fragment fade-in" style="margin-top: 20px;">Count <mark>all</mark> B visits → <strong>3</strong> data points</p>
        </div>
    </div>
</section>

<!-- Because this slide answers the practical question of which method to use, this is an EDUCATIONAL slide. It presents a balanced view with simple bullet points, concluding with the practical choice for the rest of the series. -->
<section>
    <h1 style="margin-bottom: 50px;">Which is better?</h1>
    <div style="font-size: 1.4em; text-align: center; line-height: 1.6;">
        <p>It <mark>doesn't really matter</mark>.</p>
        <div style="display: flex; justify-content: space-around; gap: 40px; margin: 40px 0; font-size: 0.9em;">
            <div style="flex: 1; background-color: #333; padding: 20px; border-radius: 10px;">
                <h3 style="color: #4CAF50;">First-Visit MC</h3>
                <p>Standard in textbooks<br>Easier to prove</p>
            </div>
            <div style="flex: 1; background-color: #333; padding: 20px; border-radius: 10px;">
                <h3 style="color: #ff6b6b;">Every-Visit MC</h3>
                <p>Uses more data<br>Can learn faster</p>
            </div>
        </div>
        <p class="fragment fade-in">Both converge correctly. We'll use <mark style="color: #4CAF50;">First-Visit</mark>.</p>
    </div>
</section>

<!-- Because this slide recaps the major achievement of the first half of the video, this is a POWER TEXT slide. Text analysis: "Okay. We've done it." (19 characters) is a celebratory and conclusive statement, setting up the summary. -->
<section data-auto-animate>
    <h1 class="r-fit-text">Okay. We've done it.</h1>
</section>

<!-- Because this slide continues the summary of the achievement, this is a POWER TEXT slide using data-auto-animate. Text analysis: "We have a robust, formal method for taking any policy... and calculating the true value of every state under that policy" is too long (135 chars). I will break it up. This first part highlights the core capability. -->
<section data-auto-animate>
    <h1 class="r-fit-text" style="opacity: 0.3;">Okay. We've done it.</h1>
    <h1 class="r-fit-text">We have a robust, formal method to calculate the <mark>true value</mark> of every state.</h1>
</section>

<!-- Because this final summary slide emphasizes the "model-free" constraint, it's a POWER TEXT slide using data-auto-animate. Text analysis: "All without a map" (17 characters) is a powerful punchline that connects back to the series' central theme. Highlighting "without a map" in red emphasizes the constraint we've overcome. -->
<section data-auto-animate>
    <h1 class="r-fit-text" style="opacity: 0.3;">Okay. We've done it.</h1>
    <h1 class="r-fit-text">We have a robust, formal method to calculate the <mark>true value</mark> of every state.</h1>
    <h1 class="r-fit-text" style="margin-top: 50px;">All <mark style="color: #ff6b6b;">without a map</mark>.</h1>
</section>

<!-- Because this slide serves as a dramatic pivot from the solution to a new, more profound problem, this is a POWER TEXT slide. Text analysis: "This is a huge achievement" (26 characters) validates the progress before the "But..." which creates a turn in the narrative. -->
<section data-auto-animate>
    <h1 class="r-fit-text">This is a huge achievement.</h1>
</section>

<!-- Because this slide introduces the central question and hook for the next chapter, this is a POWER TEXT slide using data-auto-animate. Text analysis: "But it leads to a devastatingly simple question" (47 characters) builds suspense and signals a critical turning point in the logic. -->
<section data-auto-animate>
    <h1 class="r-fit-text" style="opacity: 0.3;">This is a huge achievement.</h1>
    <h1 class="r-fit-text">But it leads to a devastatingly simple question.</h1>
</section>

<!-- Because this is the punchline question, it gets its own POWER TEXT slide for maximum impact. The text "So what?" is under 5 characters, so it uses `font-size: 12em` instead of `r-fit-text` to create a dramatic, reflective pause. -->
<section>
    <h1 class="r-fit-text">So what?</h1>
</section>

<!-- Because this slide begins to explain the "So what?" problem, this is a POWER TEXT slide. Text analysis: "Knowing v(B) = 6.0 is... nice" (28 characters) is conversational and slightly dismissive, setting up the argument that this knowledge is insufficient. -->
<section data-auto-animate>
    <h2 class="r-fit-text">Knowing <code>v(B) = 6.0</code> is... nice.</h2>
</section>

<!-- Because this slide reveals the critical flaw of state-values, it is a POWER TEXT slide using data-auto-animate. Text analysis: "But how does that actually help the robot decide whether to move Left or Right?" (79 characters) is a perfect length for r-fit-text and clearly states the limitation. Highlighting "decide" emphasizes the missing link to action. -->
<section data-auto-animate>
    <h2 class="r-fit-text" style="opacity: 0.3;">Knowing <code>v(B) = 6.0</code> is... nice.</h2>
    <h1 class="r-fit-text">But how does that actually help the robot <mark>decide</mark> whether to move Left or Right?</h1>
</section>

<!-- Because this is the final slide of the chapter and serves as the ultimate hook for the next, this is a POWER TEXT slide. Text analysis: "It tells us how good it is to be at a state, but not what to do" is broken into two impactful lines. The final sentence reveals the "critical, hidden flaw" and sets up the entire premise of Chapter 7. -->
<section>
    <h2 class="r-fit-text">It tells us how good it is to <mark>be</mark> at a state...</h2>
    <h1 class="fragment fade-in r-fit-text">...but not what to <mark style="color: #ff6b6b;">do</mark>.</h1>
    <p class="fragment fade-in" style="font-size: 1.5em; margin-top: 50px;">And that reveals a critical, hidden flaw.</p>
</section>

<!-- END CHAPTER 6 -->

<!-- START CHAPTER 7 -->

<!-- Because this content recaps the achievement of the previous chapters, this is a POWER TEXT slide. Text analysis: "So, let's be real. We just did all that work" is a great conversational opening. I'll break the recap into multiple slides for rhythm. -->
<section>
    <h2 class="r-fit-text">So, let's be real.</h2>
    <h1 class="fragment fade-in r-fit-text">We just did all that work.</h1>
</section>

<!-- Because this slide continues the recap, it's a POWER TEXT slide using data-auto-animate. Text analysis: The phrases "thousands of simulated races" and "pages of our digital notebook" are evocative and summarize the effort well. -->
<section data-auto-animate>
    <h2 class="r-fit-text">We ran thousands of simulated races.</h2>
    <h2 class="fragment fade-in r-fit-text">We filled up pages of our digital notebook.</h2>
</section>

<!-- Because this slide completes the recap by stating the outcome, it's a POWER TEXT slide using data-auto-animate. Text analysis: "We built a beautiful, robust algorithm to calculate the value of every single state on the track" is a strong summary sentence. -->
<section data-auto-animate>
    <h2 class="r-fit-text" style="opacity: 0.3;">We ran thousands of simulated races.</h2>
    <h2 class="r-fit-text" style="opacity: 0.3;">We filled up pages of our digital notebook.</h2>
    <h1 class="r-fit-text">We built a beautiful algorithm to calculate the <mark style="color: #4CAF50;">value of every state</mark>.</h1>
</section>

<!-- Because this slide provides the concrete results of the previous work, this is an EDUCATIONAL slide. It shows the calculated state-values, grounding the abstract concept in specific numbers. This serves as the foundation for the upcoming problem. -->
<section>
    <h2 style="font-size: 2em;">We have all this data.</h2>
    <div style="text-align: center; font-size: 2em; margin-top: 50px;">
        <p>We know that, under our dumb random policy...</p>
        <div class="fragment fade-in" style="margin-top: 40px;">
            <p><code style="font-size: 1.5em; color: #4CAF50;">v(B)</code> is about <strong>6.0</strong></p>
            <p><code style="font-size: 1.5em; color: #4CAF50;">v(C)</code> might be <strong>7.5</strong></p>
        </div>
    </div>
</section>

<!-- Because this slide serves as a dramatic pivot, this is a POWER TEXT slide. Text analysis: "And the robot asks a devastatingly simple question" (47 characters) is a perfect length to build suspense and introduce a major conflict. -->
<section>
    <h1 class="r-fit-text">And the robot asks a devastatingly simple question.</h1>
</section>

<!-- Because this is the punchline question, it gets its own POWER TEXT slide for maximum impact. The text "So what?" is short and punchy, perfect for r-fit-text to create a dramatic, reflective pause. -->
<section>
    <h1 class="r-fit-text">So what?</h1>
</section>

<!-- Because this slide begins to explain the "So what?" problem from the agent's perspective, this is a POWER TEXT slide. Text analysis: "I'm in state B. I know v(B) is 6.0. That's... nice" (49 characters) is conversational and slightly dismissive, setting up the argument that this knowledge is insufficient. -->
<section data-auto-animate>
    <h2 class="r-fit-text">I'm in state B. I know <code>v(B)</code> is 6.0.</h2>
    <h1 class="fragment fade-in r-fit-text">That's... nice.</h1>
</section>

<!-- Because this slide reveals the critical flaw of state-values, it is a POWER TEXT slide using data-auto-animate. Text analysis: "But it doesn't tell me what to do. Should I move Left, or should I move Right?" is broken into two impactful lines. Highlighting "what to do" emphasizes the missing link to action. -->
<section data-auto-animate>
    <h2 class="r-fit-text" style="opacity: 0.3;">I'm in state B. I know <code>v(B)</code> is 6.0.</h2>
    <h1 class="r-fit-text" style="opacity: 0.3;">That's... nice.</h1>
    <h1 class="r-fit-text">But it doesn't tell me <mark style="color: #ff6b6b;">what to do</mark>.</h1>
    <h2 class="fragment fade-in r-fit-text">Should I move Left, or should I move Right?</h2>
</section>

<!-- Because this slide introduces a named concept for the problem, this is a POWER TEXT slide. Text analysis: "The obvious-sounding answer is a trap" (36 characters) creates intrigue. Highlighting "trap" in red signals danger. The name "The Model-Free Trap" is given its own line for emphasis. -->
<section>
    <h1 class="r-fit-text">The obvious-sounding answer is a <mark style="color: #ff6b6b;">trap</mark>.</h1>
    <h2 class="fragment fade-in r-fit-text" style="margin-top: 50px;">The <mark>Model-Free Trap</mark>.</h2>
</section>

<!-- Because this content shows the agent's flawed reasoning in a visual context, this is a TECHNICAL slide. CRITICAL: The Slippery Race track diagram must persist to provide context for the states (A, B, C). A quote-style box personifies the robot's thinking, clearly showing how it's misusing the state-value information to look one step ahead. -->
<section data-auto-animate>
    <div style="padding: 20px;">
        <h3 style="color: #ff6b6b; font-size: 1.8em;">The Robot's Flawed Logic:</h3>
        <table style="width: 80%; margin: 20px auto; border-collapse: collapse; font-size: 1.5em; text-align: center;">
            <tr>
                <td style="border: 3px solid #fff; padding: 15px;">S</td>
                <td style="border: 3px solid #fff; padding: 15px;">A</td>
                <td style="border: 3px solid #fff; padding: 15px; background-color: #4CAF50; color: #000;">B</td>
                <td style="border: 3px solid #fff; padding: 15px;">C</td>
                <td style="border: 3px solid #fff; padding: 15px;">G</td>
            </tr>
        </table>
        <div class="fragment fade-in" style="background-color: #3a2e2e; padding: 20px; border-radius: 10px; border-left: 5px solid #ff6b6b; font-size: 1.2em; margin-top: 30px;">
            <p>"From B: <code>v(A) = 4.0</code>, <code>v(C) = 7.5</code>. <mark>I should move Right to the more valuable state.</mark>"</p>
        </div>
    </div>
</section>

<!-- Because this slide is a reaction to the robot's logic, it's a POWER TEXT slide. Text analysis: "This logic seems flawless" (25 characters) is short and sets up the reveal of the flaw. -->
<section data-auto-animate>
    <h1 class="r-fit-text">This logic seems flawless.</h1>
</section>

<!-- Because this slide reveals the truth, it's a POWER TEXT slide using data-auto-animate. Text analysis: "It's also completely, fundamentally wrong" (40 characters) is a strong, definitive statement. Highlighting "wrong" in red emphasizes the error. -->
<section data-auto-animate>
    <h1 class="r-fit-text" style="opacity: 0.3;">This logic seems flawless.</h1>
    <h1 class="r-fit-text">It's also completely, fundamentally <mark style="color: #ff6b6b;">wrong</mark>.</h1>
</section>

<!-- Because this slide serves as a simple transition, asking the obvious next question, it's a POWER TEXT slide. A single word provides a moment of pause and builds anticipation for the explanation. -->
<section>
    <h1 style="font-size: 12em;">Why?</h1>
</section>

<!-- Because this slide reveals the single word that causes the entire problem, it's a POWER TEXT slide for maximum impact. Text analysis: "Because of one word: probably" (29 characters) is short and punchy. Highlighting "probably" in red focuses all attention on the source of the uncertainty. -->
<section>
    <h1 class="r-fit-text">Because of one word: <mark style="color: #ff6b6b;">probably</mark>.</h1>
</section>

<!-- Because this slide explains the core reason for the flaw by contrasting with the previous (Dynamic Programming) method, this is an EDUCATIONAL slide. A side-by-side comparison clearly shows what DP had (the map, the probabilities) versus what we have now (no map, total uncertainty). This visual contrast is critical for understanding the model-free constraint. -->
<section>
    <div style="display: flex; justify-content: space-around; gap: 40px; font-size: 1.2em;">
        <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #ff6b6b;">Dynamic Programming (DP)</h2>
            <p>We had the map: <code>p(s'|s, a)</code>.</p>
            <p class="fragment fade-in">We <mark>KNEW</mark> the exact odds of where we'd land.</p>
        </div>
        <div class="fragment fade-in" style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #4CAF50;">Monte Carlo (MC)</h2>
            <p>We are <mark>model-free</mark>.</p>
            <p class="fragment fade-in">We threw the map away!</p>
        </div>
    </div>
</section>

<!-- Because this slide delivers a powerful, memorable metaphor explaining the consequence of being model-free, this is a POWER TEXT slide. Text analysis: "You can’t make a decision based on the value of a destination if you have no idea which road actually leads there" is a bit long (114 chars), so I'll break it into two for better readability and impact. -->
<section>
    <h2 class="r-fit-text">You can’t decide based on a destination's value...</h2>
    <h1 class="fragment fade-in r-fit-text">...if you don't know which road leads there.</h1>
</section>

<!-- Because this slide provides another concise analogy, it's a POWER TEXT slide. Text analysis: "Knowing the value of a state is like knowing the answer to a test question. But you don't have the question" is broken into two lines to create a setup and punchline rhythm. -->
<section>
    <h2 class="r-fit-text">Knowing a state's value is like knowing the answer to a test question.</h2>
    <h1 class="fragment fade-in r-fit-text">But you don't have the <mark>question</mark>.</h1>
</section>

<!-- Because this slide transitions to a new, more detailed analogy, this is a POWER TEXT slide. Text analysis: "Let me make this crystal clear with an analogy" (45 characters) is a classic setup phrase that signals a shift to a story-based explanation. -->
<section>
    <h1 class="r-fit-text">Let me make this crystal clear with an analogy.</h1>
</section>

<!-- Because this slide sets up the vacation analogy with clear state-values, this is an EDUCATIONAL slide. A simple side-by-side layout presents the "state-values" for Paris and Rome, making the comparison direct and easy to understand. -->
<section>
    <h2 style="margin-bottom: 50px;">Imagine planning a vacation. Your friend tells you:</h2>
    <div style="display: flex; justify-content: space-around; gap: 40px; font-size: 1.8em;">
        <div style="flex: 1; text-align: center;">
            <p>"Paris is a <strong style="font-size: 1.5em; color: #4CAF50;">9/10</strong> city."</p>
            <p><code>v(Paris) = 9</code></p>
        </div>
        <div style="flex: 1; text-align: center;">
            <p>"Rome is a <strong style="font-size: 1.5em; color: #4CAF50;">7/10</strong> city."</p>
            <p><code>v(Rome) = 7</code></p>
        </div>
    </div>
    <p class="fragment fade-in" style="font-size: 1.4em; margin-top: 50px;">You now have state-values. Great. Now what?</p>
</section>

<!-- Because this slide reveals the flaw in using only state-values for decision-making, it is a POWER TEXT slide. Text analysis: "You can't just pick Paris because it has a higher value!" (58 characters) is a perfect length for r-fit-text and directly addresses the flaw in the analogy. -->
<section>
    <h1 class="r-fit-text">You <mark style="color: #ff6b6b;">can't</mark> just pick Paris because it has a higher value!</h1>
</section>

<!-- Because this slide introduces the missing information (the "actions"), this is an EDUCATIONAL slide. It uses a side-by-side layout to directly contrast the "actions" (flights) required to get to each destination. The contrasting details (cost, time) make it immediately obvious why the action itself matters. -->
<section>
    <h2 style="margin-bottom: 50px;">To make a real decision, you need to know about the <mark>actions</mark>.</h2>
    <div style="display: flex; justify-content: space-around; gap: 40px; font-size: 1.2em;">
        <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #ff6b6b;">Flight to Paris</h2>
            <p>20 hours</p>
            <p>3 layovers</p>
            <p>$2,000</p>
        </div>
        <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #4CAF50;">Flight to Rome</h2>
            <p>2 hours</p>
            <p>Direct</p>
            <p>$300</p>
        </div>
    </div>
</section>

<!-- Because this slide provides the key insight from the analogy, it's a POWER TEXT slide. Text analysis: "Knowing the value of the destination isn't enough. You need to know the value of the journey." is broken into two lines, with destination vs. journey highlighted to emphasize the core contrast. -->
<section>
    <h2 class="r-fit-text">Knowing the value of the <mark>destination</mark> isn't enough.</h2>
    <h1 class="fragment fade-in r-fit-text">You need to know the value of the <mark style="color: #4CAF50;">journey</mark>.</h1>
</section>

<!-- Because this slide summarizes the entire problem in a single, powerful statement, this is a POWER TEXT slide. Text analysis: "We spent all this time learning a tool that, for making better decisions... is useless on its own" is broken up for dramatic effect. "Useless" is highlighted in red to underscore the severity of the flaw. -->
<section data-auto-animate>
    <h2 class="r-fit-text">We spent all this time learning this powerful new tool...</h2>
    <h1 class="fragment fade-in r-fit-text">only to discover that it's <mark style="color: #ff6b6b;">useless on its own</mark>.</h1>
</section>

<!-- Because this is the final hook for the next chapter, it's a POWER TEXT slide that poses the solution as a question. Text analysis: "What if, instead of learning the value of the destination... we could learn the value of the entire journey directly?" is split into two parts, creating a clear contrast between the flawed approach and the proposed solution. -->
<section>
    <h2 class="r-fit-text">So, how do we fix this?</h2>
    <h1 class="fragment fade-in r-fit-text">What if, instead of learning the value of the <mark>destination</mark>...</h1>
    <h1 class="fragment fade-in r-fit-text">...we could learn the value of the <mark style="color: #4CAF50;">journey</mark>?</h1>
</section>

<!-- Because this is the final slide of the chapter, it reframes the hook using the vacation analogy, making the concept of action-values intuitive. Text analysis: "What if, instead of learning how good it is to be in Paris... we learn how good it is to take the flight to Paris?" This clearly sets up the topic of the next chapter: Action-Values (Q-Values). -->
<section>
    <h2 class="r-fit-text">What if we could learn how good it is...</h2>
    <div class="fragment fade-in" style="margin-top: 50px;">
        <h2 style="font-size: 2.5em;">...to <mark style="color: #ff6b6b;">be</mark> in Paris?</h2>
        <h1 style="font-size: 8em;">vs.</h1>
        <h2 style="font-size: 2.5em;">...to <mark style="color: #4CAF50;">take the flight</mark> to Paris?</h2>
    </div>
</section>

<!-- END CHAPTER 7 -->

<!-- START CHAPTER 8 -->

<!-- Because this content directly addresses the problem from the previous chapter and poses the solution as a question, this is a POWER TEXT slide. Text analysis: "So, how do we fix this?" (21 characters) is a great direct opening. I will use data-auto-animate to build the full question. -->
<section data-auto-animate>
    <h1 class="r-fit-text">So, how do we fix this?</h1>
</section>

<!-- Because this slide completes the opening question, it's a POWER TEXT slide using data-auto-animate. Text analysis: The contrast between "the entire journey" and "just the destination" is the core idea. Highlighting them with different colors (green for the solution, red for the problem) makes the concept instantly clear. -->
<section data-auto-animate>
    <h1 class="r-fit-text" style="opacity: 0.3;">So, how do we fix this?</h1>
    <h2 class="r-fit-text">How do we learn the value of the <mark style="color: #4CAF50;">entire journey</mark>, not just the <mark style="color: #ff6b6b;">destination</mark>?</h2>
</section>

<!-- Because this slide provides a simple, direct answer, this is a POWER TEXT slide. Text analysis: "We do it by changing the question we ask" (38 characters) is a perfect length for r-fit-text and sets up the reveal of the new question. -->
<section>
    <h1 class="r-fit-text">We do it by changing the question we ask.</h1>
</section>

<!-- Because this slide presents the old, flawed question, this is an EDUCATIONAL slide. It clearly states the state-value concept we're moving away from. The red color emphasizes that this is the old, problematic way of thinking. -->
<section data-auto-animate>
    <h2 style="font-size: 2em;">Instead of asking:</h2>
    <div style="margin-top: 50px; background-color: #3a2e2e; padding: 30px; border-radius: 10px; border-left: 5px solid #ff6b6b;">
        <p style="font-size: 1.5em; margin: 0;">"How good is it to <mark>be</mark> in state `s`?"</p>
    </div>
</section>

<!-- Because this slide reveals the new, more powerful question, this is a critical EDUCATIONAL slide using data-auto-animate for a smooth transition. The green color signals this is the solution. Highlighting "take action a from state s" makes the shift in perspective visually explicit. -->
<section data-auto-animate>
    <h2 style="font-size: 2em;">We're going to ask a much more powerful question:</h2>
    <div style="margin-top: 50px; background-color: #2e3a2e; padding: 30px; border-radius: 10px; border-left: 5px solid #4CAF50;">
        <p style="font-size: 1.5em; margin: 0;">"How good is it to <mark>take action `a` from</mark> state `s`?"</p>
    </div>
</section>

<!-- Because this is a major claim summarizing the importance of the new question, this is a POWER TEXT slide. Text analysis: "This single change in perspective is the solution to our entire problem" (71 characters) is a great length for a powerful, self-contained statement. -->
<section>
    <h1 class="r-fit-text">This single change in perspective is the <mark style="color: #4CAF50;">solution</mark> to our entire problem.</h1>
</section>

<!-- Because this slide formally names the new concept, this is a POWER TEXT slide. It uses auto-animate to build suspense before revealing the name. -->
<section data-auto-animate>
    <h2 class="r-fit-text">This new value isn't called a state-value.</h2>
    <h1 class="r-fit-text">It's called an...</h1>
</section>

<!-- Because this slide reveals the name, it's a POWER TEXT slide using data-auto-animate. The name "action-value" is highlighted for emphasis and clarity. -->
<section data-auto-animate>
    <h2 class="r-fit-text">This new value isn't called a state-value.</h2>
    <h1 class="r-fit-text">It's called an...</h1>
    <h1 class="r-fit-text" style="color: #4CAF50;"><mark>action-value</mark>.</h1>
</section>

<!-- Because this is a transition slide building suspense for the more common name, this is a POWER TEXT slide. Text analysis: "Or, its much cooler, more famous name" (36 characters) is conversational and engaging. -->
<section>
    <h2 class="r-fit-text">Or, its much cooler, more famous name:</h2>
</section>

<!-- Because this slide delivers the punchline name "Q-value", it is a POWER TEXT slide designed for maximum impact. The green color and black background make the term stand out as a central concept of the entire field. -->
<section data-background-color="#000">
    <h1 class="r-fit-text" style="color: #4CAF50;">the Q-value.</h1>
</section>

<!-- Because this slide provides a clear, side-by-side definition of the two value types, this is a critical TECHNICAL slide. The two-column layout is perfect for direct comparison. Using LaTeX for `v(s)` and `q(s,a)` makes the notation clear, and highlighting the key phrases ("value of the destination" vs "value of the entire journey") reinforces the core distinction. -->
<section>
    <h2 style="margin-bottom: 50px;">Let's make this crystal clear.</h2>
    <div style="display: flex; justify-content: space-around; gap: 40px; font-size: 1.2em;">
        <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #ff6b6b;">`v(s)`: The State-Value</h2>
            <p>"Average score starting from this state"</p>
            <p class="fragment fade-in">Value of the <mark>destination</mark>.</p>
        </div>
        <div class="fragment fade-in" style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #4CAF50;">`q(s, a)`: The Q-Value</h2>
            <p>"Average score taking this action from this state"</p>
            <p class="fragment fade-in">Value of the <mark>entire journey</mark>.</p>
        </div>
    </div>
</section>

<!-- Because this slide summarizes the importance of the Q-value, this is a POWER TEXT slide. Text analysis: "This q(s, a) is the piece of information our model-free agent was desperately missing" (86 characters) is a perfect length for r-fit-text and encapsulates the solution. -->
<section>
    <h1 class="r-fit-text"><code>q(s, a)</code> is what our agent was <mark>missing</mark>.</h1>
</section>

<!-- Because this slide uses the vacation analogy to make the concept of Q-value intuitive, this is a POWER TEXT slide. Text analysis: The phrase is broken into two impactful lines, making the analogy of bundling information into "one simple number" very clear. -->
<section>
    <h2 class="r-fit-text">The cost of the flight, the layovers, and the quality of the final destination...</h2>
    <h1 class="fragment fade-in r-fit-text">...all bundled into <mark style="color: #4CAF50;">one simple number</mark>.</h1>
</section>

<!-- Because this slide transitions to the simplicity of the algorithm change, this is a POWER TEXT slide. "And here's the best part" is a classic hook to build excitement. -->
<section>
    <h1 class="r-fit-text">And here's the best part.</h1>
</section>

<!-- Because this slide emphasizes the ease of implementation, this is a POWER TEXT slide. Text analysis: "We just need to make one tiny, almost trivial change to the notebook method we already learned" is broken into two parts to highlight the "one tiny change". -->
<section>
    <h2 class="r-fit-text">To calculate these powerful Q-values...</h2>
    <h1 class="r-fit-text">we just need to make <mark>one tiny change</mark> to the method we already learned.</h1>
</section>

<!-- Because this slide presents the old algorithm for state-values, it is a TECHNICAL slide that sets up a direct comparison. It uses data-auto-animate to ensure the code block transitions smoothly to the next slide where the new algorithm will appear alongside it. This provides critical context for the upcoming change. -->
<section data-auto-animate>
    <h2 style="color: #ff6b6b; margin-bottom: 20px;">This was our old algorithm for state-values:</h2>
    <pre style="max-width: 50%; margin: 0 auto;"><code class="language-plaintext" data-trim>
Algorithm: Monte Carlo Prediction (State Values)

Initialize:
  V(s) ← 0
  Returns(s) ← empty list

Loop forever:
  ...
  If S_t is first visit:
    Append G to Returns(S_t)
    V(S_t) ← average(Returns(S_t))
    </code></pre>
</section>

<!-- Because this slide reveals the new algorithm side-by-side with the old one, this is a critical TECHNICAL slide. Using data-auto-animate, the old code block remains, while the new one appears next to it. Highlighting the specific changed lines (`Q(s, a)` and `Returns(s, a)`) makes the "tiny change" immediately obvious and easy to understand. -->
<section data-auto-animate>
    <h2 style="color: #4CAF50; margin-bottom: 20px;">Now, the new, upgraded algorithm for Q-values:</h2>
    <div style="display: flex; justify-content: space-around; gap: 20px;">
        <div style="flex: 1; opacity: 0.5;">
            <h3 style="color: #ff6b6b;">Old: State Values</h3>
            <pre><code class="language-plaintext" data-trim>
Initialize:
  V(s) ← 0
  Returns(s) ← empty list

Loop forever:
  ...
  If S_t is first visit:
    Append G to Returns(S_t)
    V(S_t) ← average(Returns(S_t))
            </code></pre>
        </div>
        <div style="flex: 1;">
            <h3 style="color: #4CAF50;">New: Action Values</h3>
            <pre><code class="language-plaintext" data-trim>
Initialize:
  Q(s, a) ← 0
  Returns(s, a) ← empty list

Loop forever:
  ...
  If (S_t, A_t) is first visit:
    Append G to Returns(S_t, A_t)
    Q(S_t, A_t) ← average(Returns(S_t, A_t))
            </code></pre>
        </div>
    </div>
</section>

<!-- Because this is the punchline slide summarizing the simplicity of the change, this is a POWER TEXT slide. The text "That's it." now uses r-fit-text for better scaling. -->
<section>
    <h1 class="r-fit-text">That's it.</h1>
</section>

<!-- Because this slide continues the punchline, it is a POWER TEXT slide. Text analysis: "That's the whole change" (23 characters) reinforces the previous slide and solidifies the core message of simplicity. -->
<section>
    <h1 class="r-fit-text">That's the <mark>whole</mark> change.</h1>
</section>

<!-- Because this slide explains the conceptual shift behind the code change, it is an EDUCATIONAL slide. It uses the notebook metaphor to make the abstract idea of a "state-action pair" concrete and intuitive, directly comparing the old and new ways of organizing information. -->
<section>
    <h2 style="font-size: 2em;">Instead of keeping a list for each <mark style="color: #ff6b6b;">state `s`</mark>...</h2>
    <h1 class="fragment fade-in" style="font-size: 2.5em;">...we now keep a list for each <mark style="color: #4CAF50;">state-action pair `(s, a)`</mark>.</h1>
    <p class="fragment fade-in" style="font-size: 1.5em; margin-top: 50px;">
        Notebook pages: "(State B, Move Right)" and "(State B, Move Left)".
    </p>
</section>

<!-- Because this slide sets up the practical example, it is a POWER TEXT slide. "Let's see this in action" is a classic transition that engages the audience and prepares them for a walkthrough. -->
<section>
    <h1 class="r-fit-text">Let's see this in action.</h1>
</section>

<!-- Because this slide establishes the context for the walkthrough, it is a TECHNICAL slide. CRITICAL: This slide sets up the persistent context—the episode path—that is essential for understanding the step-by-step calculations on the following slide. Reusing the same episode from a previous chapter provides continuity. -->
<section data-auto-animate>
    <div style="background-color: #333; padding: 15px; border-radius: 10px; margin-bottom: 30px;">
        <h3 style="color: #4CAF50; margin: 0; font-size: 1.8em;">The Context: Our Old Episode</h3>
        <table style="width: 40%; margin: 20px auto; border-collapse: collapse; font-size: 1em; text-align: center;">
            <tr>
                <td style="border: 3px solid #fff; padding: 10px; background-color: #4CAF50; color: #000;">S</td>
                <td style="border: 3px solid #fff; padding: 10px;">A</td>
                <td style="border: 3px solid #fff; padding: 10px;">B</td>
                <td style="border: 3px solid #fff; padding: 10px;">C</td>
                <td style="border: 3px solid #fff; padding: 10px; background-color: #4CAF50; color: #000;">G</td>
            </tr>
        </table>
        <p style="font-size: 1.2em; margin: 10px 0 0 0; font-family: monospace;">S→[R]→A→[R]→B→[R]→C→[slip]→B→[L]→A→[R]→B→[R]→C→[R]→G</p>
    </div>
    <div style="font-size: 1.3em; line-height: 1.6;">
        <p>First, we work backwards to find the return from each point, just like before.</p>
        <div class="fragment fade-in">
            <p>Return from the last B was <code style="color: #4CAF50;">+9</code>.</p>
            <p>Return from the last A was <code style="color: #4CAF50;">+8</code>.</p>
            <p>Return from the middle B was <code style="color: #4CAF50;">+7</code>.</p>
            <p>And so on...</p>
        </div>
    </div>
</section>

<!-- Because this slide demonstrates the new algorithm step-by-step, it is a TECHNICAL slide. CRITICAL: The episode path context from the previous slide is preserved at the top. The slide uses fragments to reveal each update to the Q-value notebook, making the process clear and easy to follow. The First-Visit rule is explicitly mentioned. -->
<section data-auto-animate>
    <div style="background-color: #333; padding: 15px; border-radius: 10px; margin-bottom: 30px;">
        <h3 style="color: #4CAF50; margin: 0; font-size: 1.8em;">Updating our Q-Value Notebook (First-Visit)</h3>
        <table style="width: 40%; margin: 20px auto; border-collapse: collapse; font-size: 1em; text-align: center;">
            <tr>
                <td style="border: 3px solid #fff; padding: 10px; background-color: #4CAF50; color: #000;">S</td>
                <td style="border: 3px solid #fff; padding: 10px;">A</td>
                <td style="border: 3px solid #fff; padding: 10px;">B</td>
                <td style="border: 3px solid #fff; padding: 10px;">C</td>
                <td style="border: 3px solid #fff; padding: 10px; background-color: #4CAF50; color: #000;">G</td>
            </tr>
        </table>
        <p style="font-size: 1.2em; margin: 10px 0 0 0; font-family: monospace;">S→[R]→A→[R]→B→[R]→C→[slip]→B→[L]→A→[R]→B→[R]→C→[R]→G</p>
    </div>
    <div style="font-size: 1.1em; line-height: 1.6;">
        <div class="fragment fade-in">
            <p><strong>Step 1:</strong> In state `S`, took `[Right]`. Return was `+3`. → Add `+3` to list for `(S, Right)`.</p>
        </div>
        <div class="fragment fade-in">
            <p><strong>Step 2:</strong> In `A`, took `[Right]`. Return was `+4`. → Add `+4` to list for `(A, Right)`.</p>
        </div>
        <div class="fragment fade-in">
            <p><strong>Step 3:</strong> In `B`, took `[Right]`. Return was `+5`. → Add `+5` to list for `(B, Right)`.</p>
        </div>
        <div class="fragment fade-in">
            <p><strong>Step 4:</strong> In `C`, took `[Right]`. Return was `+6`. → Add `+6` to list for `(C, Right)`.</p>
        </div>
        <div class="fragment fade-in">
            <p><strong>Step 5:</strong> In `B`, took `[Left]`. Return was `+7`. → Add `+7` to list for `(B, Left)`.</p>
        </div>
        <p class="fragment fade-in" style="margin-top: 20px;"><em>(We ignore later visits to `(A, Right)` and `(B, Right)`)</em></p>
    </div>
</section>

<!-- Because this slide reveals the outcome and insight from the walkthrough, this is a POWER TEXT slide. "Now for the payoff" is a classic line to build excitement for the conclusion. -->
<section>
    <h1 class="r-fit-text">Now for the payoff.</h1>
</section>

<!-- Because this slide presents the final, learned Q-values for State B, this is a crucial EDUCATIONAL slide. It clearly shows the two distinct Q-values the agent now has, contrasting them side-by-side. This visualizes the new, actionable knowledge the agent has gained. -->
<section>
    <h2 style="font-size: 1.8em;">When standing in State B, our robot can now look at its notebook:</h2>
    <div style="display: flex; justify-content: space-around; gap: 40px; font-size: 1.5em; margin-top: 50px;">
        <div style="flex: 1; text-align: center;">
            <p><code>Q(B, Right)</code> has one data point:</p>
            <p><code>[+5]</code> → Average is <strong style="font-size: 1.8em; color: #4CAF50;">5.0</strong></p>
        </div>
        <div style="flex: 1; text-align: center;">
            <p><code>Q(B, Left)</code> has one data point:</p>
            <p><code>[+7]</code> → Average is <strong style="font-size: 1.8em; color: #4CAF50;">7.0</strong></p>
        </div>
    </div>
</section>

<!-- Because this is the punchline slide connecting the learned values to a decision, this is a POWER TEXT slide. Text analysis: "The choice is suddenly dumb simple" (34 characters) directly ties into the series title and highlights the method's newfound power. -->
<section>
    <h1 class="r-fit-text">The choice is suddenly <mark>dumb simple</mark>.</h1>
</section>

<!-- Because this slide explicitly states the decision the robot makes based on the Q-values, it is an EDUCATIONAL slide. It shows the numerical comparison and the resulting conclusion, making the logic undeniable. -->
<section>
    <h1 style="font-size: 8em; margin-bottom: 50px;"><span style="color: #4CAF50;">7.0</span> > <span style="color: #ff6b6b;">5.0</span></h1>
    <h2 class="r-fit-text">Based on this one experience, moving <mark>[Left]</mark> looks like the better move!</h2>
    <p class="fragment fade-in" style="font-size: 1.2em; margin-top: 40px;">No model. No probabilities. Just a direct comparison of outcomes.</p>
</section>

<!-- Because this slide summarizes the core achievement of this chapter, this is a POWER TEXT slide. Text analysis: "This is the breakthrough" (23 characters) is a strong, definitive statement to solidify the importance of Q-values. -->
<section data-auto-animate>
    <h1 class="r-fit-text">This is the <mark style="color: #4CAF50;">breakthrough</mark>.</h1>
</section>

<!-- Because this slide elaborates on why it's a breakthrough, it's a POWER TEXT slide using data-auto-animate. Text analysis: "With Q-values, our agent finally has a clear, direct way to compare its choices and improve its policy" is broken into two parts to emphasize the new capabilities. -->
<section data-auto-animate>
    <h1 class="r-fit-text" style="opacity: 0.3;">This is the <mark style="color: #4CAF50;">breakthrough</mark>.</h1>
    <h2 class="r-fit-text">With Q-values, our agent finally has a clear, direct way to...</h2>
    <h1 class="r-fit-text"><mark>compare its choices</mark> and <mark>improve its policy</mark>.</h1>
</section>

<!-- Because this slide introduces the pivot to the next chapter's problem, this is a POWER TEXT slide. The single word "But..." creates a dramatic pause and signals a turn in the narrative. -->
<section>
    <h1 style="font-size: 12em;">But...</h1>
</section>

<!-- Because this slide formally states the new problem, this is a POWER TEXT slide. Text analysis: "...this simple solution immediately creates a new, much more subtle problem" (71 characters) is a perfect length for r-fit-text. Highlighting "new problem" in red clearly signals the conflict. -->
<section>
    <h1 class="r-fit-text">...this simple solution immediately creates a <mark style="color: #ff6b6b;">new, much more subtle problem</mark>.</h1>
</section>

<!-- Because this slide poses the central question of the new problem, this is a POWER TEXT slide. It uses a rhetorical question to make the audience think about the logical flaw in the agent's new strategy, setting up the exploration vs. exploitation dilemma. -->
<section>
    <h2 class="r-fit-text">If moving Left from B is the best action so far...</h2>
    <h1 class="fragment fade-in r-fit-text">...how will the agent ever get more data for `Q(B, Right)`?</h1>
    <p class="fragment fade-in" style="font-size: 1.4em; margin-top: 50px;">What if that first race was just a fluke?</p>
</section>

<!-- Because this slide defines the two competing needs of the agent, this is a TECHNICAL slide using a side-by-side comparison. This layout is the most effective way to introduce and contrast the core concepts of "Exploitation" and "Exploration". -->
<section>
    <div style="display: flex; justify-content: space-around; gap: 40px; font-size: 1.2em;">
        <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #4CAF50;">To get the best score...</h2>
            <p style="font-size: 1.8em;">...we want to <mark>EXPLOIT</mark> the actions we think are best.</p>
        </div>
        <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #ff6b6b;">To find the best actions...</h2>
            <p style="font-size: 1.8em;">...we need to <mark>EXPLORE</mark> all the other options.</p>
        </div>
    </div>
</section>

<!-- Because this slide formally names the fundamental dilemma of reinforcement learning, it is a POWER TEXT slide. Text analysis: "Exploration versus Exploitation" (31 characters) is a classic, powerful phrase that deserves its own slide for maximum impact. -->
<section data-background-color="#000">
    <h2 class="r-fit-text">This is the classic, fundamental dilemma of all reinforcement learning:</h2>
    <h1 class="r-fit-text" style="color: #4CAF50; margin-top: 50px;">Exploration versus Exploitation.</h1>
</section>

<!-- Because this is the final hook for the next chapter, this is a POWER TEXT slide. Text analysis: "And finding the right balance is the final key to unlocking true learning" (71 characters) is a perfect length and clearly sets up the goal for the next part of the series. -->
<section>
    <h1 class="r-fit-text">And finding the right balance is the <mark>final key</mark> to unlocking true learning.</h1>
</section>

<!-- END CHAPTER 8 -->

<!-- START CHAPTER 9 -->

<!-- Because this content serves as a celebratory opening for the chapter, summarizing the major achievement from the last chapter, this is a POWER TEXT slide. Text analysis: "We just handed our agent the keys to the kingdom" (48 characters) is a strong, metaphorical statement. The follow-up, "Q-values," is revealed on the next slide for impact. -->
<section data-auto-animate>
    <h1 class="r-fit-text">We just handed our agent the keys to the kingdom.</h1>
</section>

<!-- Because this slide reveals the name of the "keys to the kingdom," it's a POWER TEXT slide using data-auto-animate for a smooth transition. The term "Q-values" is highlighted in green to emphasize it as the powerful new tool. -->
<section data-auto-animate>
    <h1 class="r-fit-text" style="opacity: 0.3;">We just handed our agent the keys to the kingdom.</h1>
    <h1 class="r-fit-text" style="color: #4CAF50; margin-top: 50px;">Q-values.</h1>
</section>

<!-- Because this slide explains the seemingly perfect solution that Q-values provide, it's an EDUCATIONAL slide. It lays out a simple, two-step "optimal" policy, which will be deconstructed as a trap. This logical setup is crucial for the audience to understand the upcoming problem. -->
<section>
    <h2 style="font-size: 1.8em;">It seems like we've solved it. The path to the optimal policy is just:</h2>
    <div style="font-size: 1.5em; line-height: 1.8; text-align: left; margin: 50px auto; width: 80%;">
        <p>1. Calculate the Q-values.</p>
        <p class="fragment fade-in">2. Always choose the action with the <mark style="color: #4CAF50;">highest Q-value</mark>.</p>
    </div>
</section>

<!-- Because this slide serves as a dramatic turn, revealing the flaw in the seemingly perfect plan, this is a POWER TEXT slide. Text analysis: "But this perfect, logical-sounding plan is a trap" (49 characters) is a perfect length for r-fit-text. Highlighting "trap" in red signals danger and builds suspense. -->
<section>
    <h1 class="r-fit-text">But this perfect, logical-sounding plan is a <mark style="color: #ff6b6b;">trap</mark>.</h1>
</section>

<!-- Because this slide continues to build on the "trap" concept, it is a POWER TEXT slide. Text analysis: "A subtle, dangerous trap that can lock our agent into being mediocre forever" is broken into two impactful lines. "Mediocre forever" is highlighted in red for emphasis. -->
<section>
    <h2 class="r-fit-text">A subtle, dangerous trap...</h2>
    <h1 class="fragment fade-in r-fit-text">...that can lock our agent into being <mark style="color: #ff6b6b;">mediocre forever</mark>.</h1>
</section>

<!-- Because this content explains the trap with a concrete example, this is a TECHNICAL slide. It re-introduces the context of the Slippery Race from previous chapters, focusing on State B. The slide shows the agent's initial Q-values and the flawed policy it derives, setting up the core problem of frozen knowledge. -->
<section>
    <h2 style="margin-bottom: 30px;">Think about it.</h2>
    <p style="font-size: 1.3em;">After one race, our robot thinks:</p>
    <div style="display: flex; justify-content: space-around; gap: 40px; font-size: 1.5em; margin: 30px 0;">
        <div style="flex: 1; text-align: center;">
            <p><code>Q(B, Left)</code> = <strong style="color: #4CAF50;">7.0</strong></p>
        </div>
        <div style="flex: 1; text-align: center;">
            <p><code>Q(B, Right)</code> = <strong style="color: #ff6b6b;">5.0</strong></p>
        </div>
    </div>
    <div class="fragment fade-in" style="background-color: #3a2e2e; padding: 20px; border-radius: 10px; border-left: 5px solid #ff6b6b; font-size: 1.2em; margin-top: 30px;">
        <p style="margin: 0;">So, it updates its policy: "When at B, <mark>always</mark> move Left."</p>
    </div>
</section>

<!-- Because this slide explains the consequence of the agent's flawed policy, this is a POWER TEXT slide. Text analysis: "If it *always* follows that rule, it will never, ever choose to move Right from B again" is a powerful statement. Highlighting "never, ever" emphasizes the finality of its bad decision. -->
<section>
    <h1 class="r-fit-text">If it *always* follows that rule, it will <mark style="color: #ff6b6b;">never, ever</mark> choose to move Right from B again.</h1>
</section>

<!-- Because this slide continues to explain the consequence, it's a POWER TEXT slide. Text analysis: "Its knowledge about that action is frozen in time, based on one single, potentially unlucky, experience" is broken into two lines to emphasize the "frozen" knowledge and the "single unlucky experience". -->
<section>
    <h2 class="r-fit-text">Its knowledge is <mark>frozen in time</mark>...</h2>
    <h1 class="fragment fade-in r-fit-text">...based on one single, unlucky experience.</h1>
</section>

<!-- Because this slide poses a rhetorical question to highlight the problem, this is a POWER TEXT slide. Text analysis: "What if moving Right is actually the masterstroke... The robot will never find out" is a clear and impactful way to state the dilemma. -->
<section>
    <h2 class="r-fit-text">What if moving Right is actually the masterstroke, the key to winning?</h2>
    <h1 class="fragment fade-in r-fit-text" style="color: #ff6b6b; margin-top: 40px;">The robot will never find out.</h1>
</section>

<!-- Because this slide formally introduces the name of the problem, this is a POWER TEXT slide designed for maximum impact. The text is broken up into a setup and the final reveal of the name. -->
<section data-auto-animate>
    <h2 class="r-fit-text">This leads to one of the most famous problems in all of AI.</h2>
    <h1 class="fragment fade-in r-fit-text">A problem you face every single day.</h1>
</section>

<!-- Because this slide reveals the formal name of the dilemma, this is a POWER TEXT slide using data-auto-animate for a smooth transition. "Exploration versus Exploitation" is highlighted in green as the core concept of the chapter. -->
<section data-auto-animate>
    <h2 class="r-fit-text" style="opacity: 0.3;">This leads to one of the most famous problems in all of AI.</h2>
    <h1 class="r-fit-text" style="opacity: 0.3;">A problem you face every single day.</h1>
    <h1 class="r-fit-text" style="color: #4CAF50; margin-top: 50px;">The dilemma of Exploration versus Exploitation.</h1>
</section>

<!-- Because this slide uses a rhetorical question to make the audience personally reflect on the dilemma, this is a POWER TEXT slide. Text analysis: "If you always do what you *think* is best, how will you ever discover something better?" is a powerful and thought-provoking question that stands on its own. -->
<section>
    <h2 class="r-fit-text">Let me ask you a question.</h2>
    <h1 class="fragment fade-in r-fit-text">If you always do what you <em>think</em> is best, how will you ever discover something better?</h1>
</section>

<!-- Because this slide uses a clear analogy to explain the concept, it's an EDUCATIONAL slide. It uses a side-by-side layout to directly compare the two choices (favorite pizza vs. new restaurant), making the abstract concepts of Exploration and Exploitation concrete and relatable. -->
<section>
    <h2 style="margin-bottom: 50px;">Pizza place: 8/10.</h2>
    <div style="display: flex; justify-content: space-around; gap: 40px; font-size: 1.2em;">
        <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #4CAF50;">Go to favorite spot.</h2>
            <p>Reliable. <mark>Exploitation</mark>.</p>
            <p class="fragment fade-in">Guaranteed good reward.</p>
        </div>
        <div class="fragment fade-in" style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #ff6b6b;">Try new place.</h2>
            <p>10/10 or 2/10? <mark>Exploration</mark>.</p>
            <p class="fragment fade-in">Risk for chance of better.</p>
        </div>
    </div>
</section>

<!-- Because this slide explains the consequences of extreme strategies, this is a POWER TEXT slide. It breaks down the downsides of "only exploiting" and "only exploring" into two clear, impactful statements, reinforcing the need for balance. -->
<section>
    <h2 class="r-fit-text">Only <mark>exploit</mark>: 8/10 pizza forever.</h2>
    <h2 class="fragment fade-in r-fit-text" style="margin-top: 50px;">Only <mark>explore</mark>: terrible meals forever.</h2>
</section>

<!-- Because this slide connects the analogy back to the agent's problem, it's a POWER TEXT slide. Text analysis: "This is the exact choice our robot faces at every single step" (58 characters) is a perfect transition statement. -->
<section>
    <h1 class="r-fit-text">This is the <mark>exact choice</mark> our robot faces at every single step.</h1>
</section>

<!-- Because this slide provides the formal definitions of Exploration and Exploitation in the context of Reinforcement Learning, this is a TECHNICAL slide. The side-by-side comparison is the most effective format, with color-coding (green for exploitation/greedy, red for exploration/gamble) to visually distinguish the two concepts. -->
<section>
    <div style="display: flex; justify-content: space-around; gap: 40px; font-size: 1.2em;">
        <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #4CAF50;">Exploitation</h2>
            <p>Highest known Q-value.</p>
            <p class="fragment fade-in"><mark>Safe bet</mark>.</p>
        </div>
        <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #ff6b6b;">Exploration</h2>
            <p>Any other action.</p>
            <p class="fragment fade-in">It's a <mark>gamble for new knowledge</mark>.</p>
        </div>
    </div>
</section>

<!-- Because this is a key insight and a core takeaway of the chapter, this is a POWER TEXT slide. Text analysis: "To find the truly optimal policy, you can’t just exploit. You MUST explore" is broken into two lines. Highlighting "MUST explore" in green emphasizes this as a mandatory requirement for learning. -->
<section>
    <h2 class="r-fit-text">To find the truly optimal policy, you can’t just be greedy.</h2>
    <h1 class="fragment fade-in r-fit-text">You <mark style="color: #4CAF50;">MUST</mark> explore.</h1>
</section>

<!-- Because this slide summarizes the central challenge for the rest of the series, this is a POWER TEXT slide. Text analysis: "The entire challenge of Monte Carlo Control comes down to this balance" (67 characters) is a great length for r-fit-text and formally introduces the concept of "Control". -->
<section>
    <h1 class="r-fit-text">The entire challenge of Monte Carlo <mark>Control</mark> comes down to this balance.</h1>
</section>

<!-- Because this slide uses the pizza analogy to pose the central question in a relatable way, this is a POWER TEXT slide. The question is broken into two parts for rhythm and clarity, contrasting the goals of finding the best and enjoying it. -->
<section>
    <h2 class="r-fit-text">How do you build an agent that knows how to find the 10/10 restaurant...</h2>
    <h1 class="fragment fade-in r-fit-text">...but still gets to enjoy it once it's found?</h1>
</section>

<!-- Because this slide serves as a transition and hook for the next chapter, this is a POWER TEXT slide. Text analysis: "Well, the first and most common solution is to literally bake that curiosity right into the policy itself" is a bit long, so I'll break it up to create a two-beat rhythm. -->
<section data-auto-animate>
    <h2 class="r-fit-text">The first solution is to bake that curiosity...</h2>
    <h1 class="r-fit-text">...right into the policy itself.</h1>
</section>

<!-- Because this is the final hook for the next chapter, this is a POWER TEXT slide using data-auto-animate for a smooth transition. Text analysis: "We're going to make our agent just a little bit unpredictable" (59 characters) is a perfect, intriguing statement that sets up the topic of ε-Greedy policies. -->
<section data-auto-animate>
    <h2 class="r-fit-text" style="opacity: 0.3;">The first solution is to bake that curiosity...</h2>
    <h1 class="r-fit-text" style="opacity: 0.3;">...right into the policy itself.</h1>
    <h1 class="r-fit-text" style="margin-top: 50px;">We're going to make our agent just a little bit <mark>unpredictable</mark>.</h1>
</section>

<!-- END CHAPTER 9 -->

<!-- START CHAPTER 10 -->

<!-- Because this content poses the central question for the chapter—how to balance greed and curiosity—this is a POWER TEXT slide. The text is broken into two impactful lines to create a clear setup and punchline rhythm, engaging the audience immediately. -->
<section>
    <h2 class="r-fit-text">So how do we build an agent that's greedy enough to win...</h2>
    <h1 class="fragment fade-in r-fit-text">...but curious enough to <mark>learn</mark>?</h1>
</section>

<!-- Because this slide introduces the core philosophy of the solution, this is a POWER TEXT slide. Text analysis: The core idea "stop thinking... as two different modes" is presented first, followed by the more evocative "bake a little bit of curiosity directly into the agent’s personality" for maximum impact. -->
<section>
    <h2 class="r-fit-text">Stop thinking exploration and exploitation as separate modes.</h2>
    <h1 class="fragment fade-in r-fit-text"><mark style="color: #4CAF50;">Bake curiosity</mark> into the agent's personality.</h1>
</section>

<!-- Because this slide formally names the concept just introduced, this is a POWER TEXT slide designed as a title card. The name "On-Policy Learning" is highlighted in green on a black background for emphasis and to signal that this is the core topic. -->
<section data-background-color="#000">
    <h1 class="r-fit-text" style="color: #4CAF50;">This philosophy is called On-Policy Learning.</h1>
</section>

<!-- Because this slide introduces a simple, memorable analogy to explain the concept, this is a POWER TEXT slide. Text analysis: "On-Policy learning is like learning to cook by tasting your own food" (69 characters) is a perfect length for r-fit-text and makes the abstract idea relatable. -->
<section>
    <h2 class="r-fit-text">Here's the analogy:</h2>
    <h1 class="fragment fade-in r-fit-text">On-Policy learning is like learning to cook by <mark>tasting your own food</mark>.</h1>
</section>

<!-- Because this slide breaks down the components of the cooking analogy, this is an EDUCATIONAL slide. It uses a list format with fragments to reveal each part of the metaphor step-by-step, making the connection between cooking and RL concepts clear and easy to follow. -->
<section>
    <div style="font-size: 1.5em; line-height: 1.8; text-align: left; width: 80%; margin: 0 auto;">
        <p>You have a recipe — that's your <strong style="color: #4CAF50;">policy</strong>.</p>
        <p class="fragment fade-in">You add a pinch of random spice — that's <strong style="color: #ff6b6b;">exploration</strong>.</p>
        <p class="fragment fade-in">You taste the final dish — that's the <strong style="color: #4CAF50;">return</strong>.</p>
        <p class="fragment fade-in">Based on that taste, you <strong style="color: #4CAF50;">update your recipe</strong>.</p>
    </div>
</section>

<!-- Because this slide delivers the single most important insight about On-Policy learning, this is a POWER TEXT slide. Text analysis: "the recipe you are using to cook is the exact same recipe you are trying to improve" is the key takeaway. Highlighting "exact same recipe" and "one, single policy" emphasizes this core idea. -->
<section>
    <h2 class="r-fit-text">The key is, the recipe you are using is the <mark>exact same recipe</mark> you are trying to improve.</h2>
    <h1 class="fragment fade-in r-fit-text">You learn and act with <mark style="color: #4CAF50;">one, single policy</mark>.</h1>
</section>

<!-- Because this slide introduces the specific algorithm for implementing On-Policy learning, this is a POWER TEXT slide. It serves as a title card for the strategy, highlighting "Epsilon-Greedy" in green to brand it as our primary tool. -->
<section>
    <h2 class="r-fit-text">The most common way to do this is with a beautifully simple strategy called...</h2>
    <h1 class="fragment fade-in r-fit-text" style="color: #4CAF50;">Epsilon-Greedy.</h1>
</section>

<!-- Because this slide explains the core components of the Epsilon-Greedy strategy, this is a TECHNICAL slide. It uses a side-by-side comparison to clearly distinguish between the two behaviors (Exploitation and Exploration), with color-coding (green for the primary strategy, red for the occasional exploration) to make the distinction visually immediate. -->
<section>
    <p style="font-size: 1.5em;">We pick a small number for our curiosity level, epsilon (ε), like <strong>0.1</strong>.</p>
    <div style="display: flex; justify-content: space-around; gap: 40px; font-size: 1.2em; margin-top: 40px;">
        <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #4CAF50;">90% of the time (1-ε)</h2>
            <p style="font-size: 1.5em;">The agent <mark>EXPLOITS</mark>.</p>
            <p>It chooses the action it believes is the absolute best.</p>
        </div>
        <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #ff6b6b;">10% of the time (ε)</h2>
            <p style="font-size: 1.5em;">The agent <mark>EXPLORES</mark>.</p>
            <p>It ignores its Q-values and chooses an action at random.</p>
        </div>
    </div>
</section>

<!-- Because this slide is a reaction to the simplicity of the algorithm, this is a POWER TEXT slide. The text "That's it." now uses r-fit-text for better scaling. The follow-up sentence reinforces the "dumb simple" theme of the series. -->
<section>
    <h1 class="r-fit-text">That's it.</h1>
    <h2 class="fragment fade-in r-fit-text">It's a beautifully <mark>dumb simple</mark> rule.</h2>
</section>

<!-- Because this slide summarizes the Epsilon-Greedy philosophy in a memorable way, this is a POWER TEXT slide. The text is broken into two lines to create a clear contrast and rhythm, making the core strategy easy to remember. -->
<section>
    <h2 class="r-fit-text">Most of the time, be greedy.</h2>
    <h1 class="fragment fade-in r-fit-text">But sometimes, be curious.</h1>
</section>

<!-- Because this slide presents the formal mathematical notation for the algorithm, this is a TECHNICAL slide. It uses LaTeX to display the formula clearly. The slide frames this as the "scary textbook formula" to build empathy before demystifying it. -->
<section data-auto-animate>
    <h2 style="font-size: 1.5em;">Now, in the textbooks, you'll see a formula that looks a bit scary:</h2>
    <div data-id="formula" style="font-size: 1.4em; margin-top: 50px; text-align: left; margin-left: 15%;">
    \[ \pi(a|s) \leftarrow \begin{cases} 1 - \epsilon + \epsilon/|A(s)| & \text{if } a \text{ is the best action} \\ \epsilon/|A(s)| & \text{if } a \text{ is not the best action} \end{cases} \]
    </div>
</section>

<!-- Because this slide is an empathetic reaction to the complex formula, this is a POWER TEXT slide using data-auto-animate for a smooth transition. Text analysis: "That looks like alien math" (26 characters) validates the audience's potential confusion and builds rapport. -->
<section data-auto-animate>
    <h2 class="r-fit-text">Okay, let's be honest.</h2>
    <h1 class="r-fit-text">That looks like <mark>alien math</mark>.</h1>
    <h2 class="fragment fade-in r-fit-text">But it's just a fancy way of writing our simple rule.</h2>
</section>

<!-- Because this slide sets up the concrete example to demystify the formula, this is a TECHNICAL slide. CRITICAL: This slide establishes the persistent context box that MUST appear across the next two slides. This box contains all the necessary parameters (State, Actions, Q-values, ε) for viewers to follow the calculation. -->
<section data-auto-animate>
    <div style="padding: 20px;">
        <div data-id="context-box" style="background-color: #333; padding: 15px; border-radius: 10px; margin-bottom: 30px;">
            <h3 style="color: #4CAF50; margin: 0; font-size: 1.8em;">Let's Make It Concrete</h3>
            <div style="font-size: 1.2em; margin-top: 10px; line-height: 1.6;">
                <p><strong>State:</strong> B</p>
                <p><strong>Actions:</strong> 2 options, <code>|A(s)|=2</code> ([Left] or [Right])</p>
                <p><strong>Curiosity (ε):</strong> 0.1</p>
                <p><strong>Q-Values:</strong> <code>Q(B, Right) = 6.0</code> (Best), <code>Q(B, Left) = 5.5</code></p>
            </div>
        </div>
        <p class="fragment fade-in" style="font-size: 1.5em; text-align: center;">Let's plug these into the formula.</p>
    </div>
</section>

<!-- Because this slide calculates the probability for the BEST action, this is a TECHNICAL slide using data-auto-animate. CRITICAL: The context box from the previous slide persists at the top, which is essential for viewers to see where the numbers in the calculation are coming from. Fragments are used to walk through the formula step-by-step. -->
<section data-auto-animate>
    <div style="padding: 20px;">
        <div data-id="context-box" style="background-color: #333; padding: 15px; border-radius: 10px; margin-bottom: 30px;">
            <h3 style="color: #4CAF50; margin: 0; font-size: 1.8em;">Let's Make It Concrete</h3>
            <div style="font-size: 1.2em; margin-top: 10px; line-height: 1.6;">
                <p><strong>State:</strong> B</p>
                <p><strong>Actions:</strong> 2 options, <code>|A(s)|=2</code> ([Left] or [Right])</p>
                <p><strong>Curiosity (ε):</strong> 0.1</p>
                <p><strong>Q-Values:</strong> <code>Q(B, Right) = 6.0</code> (Best), <code>Q(B, Left) = 5.5</code></p>
            </div>
        </div>
        <div style="font-size: 1.3em; text-align: center;">
            <p>Chance of picking <strong style="color: #4CAF50;">[Right]</strong> (the best action):</p>
            <div class="fragment fade-in">
                \[ 1 - \epsilon + \epsilon/|A(s)| \]
            </div>
            <div class="fragment fade-in" style="margin-top: 10px; line-height: 1.2;">
                \[ 1 - 0.1 + 0.1 / 2 = \mathbf{0.95} \]
                <p style="font-size: 1.5em; color: #4CAF50; margin-top: 5px;">A 95% chance.</p>
            </div>
        </div>
    </div>
</section>

<!-- Because this slide calculates the probability for the OTHER action, this is a TECHNICAL slide using data-auto-animate. CRITICAL: The same context box persists. This slide completes the calculation, showing the probability for the exploratory action and reinforcing the 95/5 split. -->
<section data-auto-animate>
    <div style="padding: 20px;">
        <div data-id="context-box" style="background-color: #333; padding: 15px; border-radius: 10px; margin-bottom: 30px;">
            <h3 style="color: #4CAF50; margin: 0; font-size: 1.8em;">Let's Make It Concrete</h3>
            <div style="font-size: 1.2em; margin-top: 10px; line-height: 1.6;">
                <p><strong>State:</strong> B</p>
                <p><strong>Actions:</strong> 2 options, <code>|A(s)|=2</code> ([Left] or [Right])</p>
                <p><strong>Curiosity (ε):</strong> 0.1</p>
                <p><strong>Q-Values:</strong> <code>Q(B, Right) = 6.0</code> (Best), <code>Q(B, Left) = 5.5</code></p>
            </div>
        </div>
        <div style="font-size: 1.3em; text-align: center;">
            <p>Chance of picking <strong style="color: #ff6b6b;">[Left]</strong> (the other action):</p>
            <div class="fragment fade-in">
                \[ \epsilon/|A(s)| \]
            </div>
            <div class="fragment fade-in" style="margin-top: 20px;">
                \[ 0.1 / 2 = \mathbf{0.05} \]
                <p style="font-size: 1.5em; color: #ff6b6b;">A 5% chance.</p>
            </div>
        </div>
    </div>
</section>

<!-- Because this is the "aha!" moment slide connecting the math back to the simple rule, this is a POWER TEXT slide. It summarizes the outcome of the calculation in plain English, highlighting the 95% exploit vs. 5% explore split. -->
<section>
    <h1 class="r-fit-text">See? It's exactly what we said.</h1>
    <h2 class="fragment fade-in r-fit-text">The agent exploits its best option <mark style="color: #4CAF50;">95%</mark> of the time, but reserves a <mark style="color: #ff6b6b;">5%</mark> chance to explore.</h2>
</section>

<!-- Because this slide explains the massive benefit of this approach, this is a POWER TEXT slide. Text analysis: "This is brilliant! Because now, our agent can never get stuck" is broken into two impactful statements. "Never get stuck" and "guaranteed" are highlighted to emphasize the power of continuous exploration. -->
<section>
    <h2 class="r-fit-text">Agent can <mark>never get stuck</mark>.</h2>
    <p class="fragment fade-in" style="font-size: 1.5em; margin-top: 40px;"><mark style="color: #4CAF50;">Guaranteed</mark> to discover hidden gems.</p>
</section>

<!-- Because this slide presents the complete, high-level algorithm for On-Policy learning, this is an EDUCATIONAL slide. It uses a numbered list with fragments to walk the audience through the entire learning loop, from action to improvement. -->
<section>
    <h2 style="margin-bottom: 50px;">The Entire On-Policy Learning Loop:</h2>
    <div style="font-size: 1.3em; line-height: 1.8; text-align: left; width: 90%; margin: 0 auto;">
        <p>1. <strong>Follow</strong> the ε-greedy policy for a whole race.</p>
        <p class="fragment fade-in">2. <strong>Calculate</strong> the returns for every (state, action) pair you visited.</p>
        <p class="fragment fade-in">3. <strong>Update</strong> the Q-values by averaging the new returns.</p>
        <p class="fragment fade-in">4. <strong>Improve</strong> the policy (your new Q-values define a new ε-greedy policy).</p>
        <p class="fragment fade-in">5. <strong>Repeat.</strong></p>
    </div>
</section>

<!-- Because this slide marks a major milestone in the series, this is a POWER TEXT slide. Text analysis: "This is our first complete, working control algorithm" (51 characters) is a celebratory and conclusive statement. Highlighting the key phrase emphasizes the achievement. -->
<section>
    <h1 class="r-fit-text">This is our first <mark style="color: #4CAF50;">complete, working control algorithm</mark>.</h1>
</section>

<!-- Because this slide transitions from the solution to a new, more subtle problem, this is a POWER TEXT slide. The phrase "But that raises a subtle and important question" creates a natural pivot and builds curiosity for what's next. -->
<section>
    <h1 class="r-fit-text">But that raises a subtle and important question.</h1>
</section>

<!-- Because this slide explains the limitation of the On-Policy approach, this is a POWER TEXT slide. The text is broken into two lines to first state what we're learning, and then reveal the critical constraint: "if you're always forced to be a little bit random". This highlights the core trade-off. -->
<section>
    <h2 class="r-fit-text">With this method, we're learning the best way to act...</h2>
    <h1 class="fragment fade-in r-fit-text">...*if you're always forced to be a little bit <mark>random</mark>*.</h1>
</section>

<!-- Because this slide rephrases the problem in a more memorable way, this is a POWER TEXT slide. Text analysis: "We’re not learning the single, perfect, 100% optimal greedy path. We're learning the best path *for an explorer*." (120 characters) is a bit long but the contrast is powerful. I'll split it for impact. -->
<section data-auto-animate>
    <h2 class="r-fit-text">We're not learning the single, <mark style="color: #ff6b6b;">perfect, 100% optimal path</mark>.</h2>
    <h1 class="r-fit-text">We're learning the best path for an <mark style="color: #4CAF50;">explorer</mark>.</h1>
</section>

<!-- Because this slide poses the central question that will lead into the next chapter, this is a POWER TEXT slide. The text uses a powerful analogy ("explore... like a curious toddler" vs "learn the... strategy of a world champion") to make the desired goal clear and compelling. -->
<section>
    <h1 class="r-fit-text">What if we want both?</h1>
    <h2 class="fragment fade-in r-fit-text">Explore like a toddler, learn like a champion?</h2>
</section>

<!-- Because this slide introduces the solution and the philosophy for the next chapter, this is a POWER TEXT slide. It sets up the core idea of separating exploration from learning and introduces the name of the next major topic. -->
<section data-auto-animate>
    <h2 class="r-fit-text">To do that, we need to <mark>separate</mark> the act of exploration from the act of learning.</h2>
    <h1 class="fragment fade-in r-fit-text">We need two policies, not one.</h1>
</section>

<!-- Because this is the final hook slide, it formally names the next chapter's topic. Using data-auto-animate, it builds on the previous slide to reveal "Off-Policy Learning" as the new philosophy, creating a clear transition. -->
<section data-auto-animate>
    <h2 class="r-fit-text" style="opacity: 0.3;">To do that, we need to <mark>separate</mark> the act of exploration from the act of learning.</h2>
    <h1 class="r-fit-text" style="opacity: 0.3;">We need two policies, not one.</h1>
    <h1 class="r-fit-text" style="margin-top: 50px;">This is a different philosophy, called <mark style="color: #4CAF50;">Off-Policy Learning</mark>.</h1>
</section>

<!-- END CHAPTER 10 -->

<!-- START CHAPTER 11 -->

<!-- Because this content poses the central, motivating question for the chapter in a highly relatable way, this is a POWER TEXT slide. Text analysis: The question is long, so I'll break it into two parts—the "toddler" exploration vs. the "world champion" strategy—to create a powerful contrast and build rhythm. This sets the stage for the entire Off-Policy concept. -->
<section data-auto-animate>
    <h2 class="r-fit-text">How do you explore like a curious toddler...</h2>
</section>

<!-- Because this slide completes the opening question with the desired outcome, it's a POWER TEXT slide using data-auto-animate for a smooth transition. Highlighting "perfect strategy" and "world champion" emphasizes the ambitious goal we're trying to achieve, creating a strong hook. -->
<section data-auto-animate>
    <h2 class="r-fit-text" style="opacity: 0.3;">How do you explore like a curious toddler...</h2>
    <h1 class="r-fit-text">...but use that experience to learn the <mark style="color: #4CAF50;">perfect strategy</mark> of a world champion?</h1>
</section>

<!-- Because this slide provides a short, punchy answer to the opening question, this is a POWER TEXT slide designed for maximum impact. Text analysis: "You live a double life" (21 characters) is a memorable and intriguing phrase that fits r-fit-text perfectly. -->
<section>
    <h1 class="r-fit-text">You live a double life.</h1>
</section>

<!-- Because this slide reveals the core philosophy of Off-Policy learning, this is a POWER TEXT slide. Text analysis: "You completely separate the act of exploration from the act of learning" (71 characters) is a perfect length for r-fit-text. Highlighting "separate" emphasizes the key action and conceptual shift from On-Policy. -->
<section>
    <h1 class="r-fit-text">You completely <mark>separate</mark> the act of exploration from the act of learning.</h1>
</section>

<!-- Because this slide formally names the philosophy we've just introduced, it's a POWER TEXT slide. It builds suspense before revealing the name "Off-Policy Learning" with a fragment, highlighted in green to brand it as our new, powerful solution. -->
<section data-auto-animate>
    <h2 class="r-fit-text">This is the second major philosophy of learning...</h2>
    <h1 class="r-fit-text fragment" style="color: #4CAF50;">Off-Policy Learning.</h1>
</section>

<!-- Because this content defines the two policies that are central to Off-Policy learning, this is a critical TECHNICAL slide. A side-by-side comparison is the most effective way to teach this distinction. Color-coding (red for the exploratory behavior policy, green for the optimal target policy) and clear, concise descriptions make the complex idea easy to digest. -->
<section>
    <h2 style="margin-bottom: 50px;">Two policies:</h2>
    <div style="display: flex; justify-content: space-around; gap: 40px; font-size: 1.2em;">
        <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #ff6b6b;">Behavior Policy (b)</h2>
            <p>Agent <mark>actually uses</mark>.</p>
            <p class="fragment fade-in">Curious toddler.</p>
        </div>
        <div class="fragment fade-in" style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #4CAF50;">Target Policy (π)</h2>
            <p>We <mark>learn about</mark>.</p>
            <p class="fragment fade-in">World champion.</p>
        </div>
    </div>
</section>

<!-- Because this slide summarizes the process in a single, clear sentence, this is a POWER TEXT slide. Highlighting "behavior" and "target" with their respective colors reinforces the two-policy concept from the previous slide, solidifying the audience's understanding. -->
<section>
    <h1 class="r-fit-text">Follow <mark style="color: #ff6b6b;">behavior</mark> policy, learn <mark style="color: #4CAF50;">target</mark> policy.</h1>
</section>

<!-- Because this slide introduces the core analogy for the chapter, this is a POWER TEXT slide. Text analysis: "Off-Policy learning is like a student driver learning to be a Formula 1 champion" is a memorable and effective metaphor. I'll break it into two parts for impact. -->
<section data-auto-animate>
    <h2 class="r-fit-text">The single best analogy for this is...</h2>
    <h1 class="r-fit-text">a <mark>student driver</mark> learning to be a <mark>Formula 1 champion</mark>.</h1>
</section>

<!-- Because this slide breaks down the analogy and maps its components to the technical terms, this is an EDUCATIONAL slide. It uses a side-by-side layout to directly connect the "student driver" to the "Behavior Policy" and the "champion" to the "Target Policy", making the abstract concepts concrete and relatable. -->
<section>
    <div style="display: flex; justify-content: space-around; gap: 40px; font-size: 1.2em;">
        <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <p style="color: #ff6b6b; font-size: 1.3em;">The student's cautious, clumsy driving...</p>
            <p style="font-size: 1.5em;">...is the <mark>Behavior Policy</mark>.</p>
        </div>
        <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <p style="color: #4CAF50; font-size: 1.3em;">The champion's perfect, aggressive racing line...</p>
            <p style="font-size: 1.5em;">...is the <mark>Target Policy</mark>.</p>
        </div>
    </div>
</section>

<!-- Because this slide continues the analogy's narrative, it's a POWER TEXT slide. It explains how the student learns from the champion's data, which is the core mechanism of Off-Policy learning, framed in an intuitive story. -->
<section>
    <h2 class="r-fit-text">The student is driving slowly, cautiously exploring the track.</h2>
    <h1 class="fragment fade-in r-fit-text">But they're also watching recordings of the champion taking that same corner at 200 mph.</h1>
</section>

<!-- Because this slide contrasts the goals of On-Policy and Off-Policy learning, this is a critical TECHNICAL slide. The side-by-side layout is essential for highlighting the fundamental difference in what each philosophy is trying to achieve. This clarifies the "why" behind using two policies. -->
<section>
    <h2 style="margin-bottom: 50px;">The goal is completely different now.</h2>
    <div style="display: flex; justify-content: space-around; gap: 40px; font-size: 1.2em;">
        <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #ff6b6b;">On-Policy</h2>
            <p>Find the best policy that <mark>still has to explore</mark>.</p>
            <p>The best "cautiously adventurous" path.</p>
        </div>
        <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #4CAF50;">Off-Policy</h2>
            <p>Learn the Q-values for the <mark>true optimal policy</mark>, `q*(s, a)`.</p>
            <p>No compromises needed.</p>
        </div>
    </div>
</section>

<!-- Because this slide delivers the punchline benefit of Off-Policy learning, this is a POWER TEXT slide. Text analysis: "We can act like a beginner but learn like a pro" (48 characters) is a memorable and powerful summary of the entire concept. -->
<section>
    <h1 class="r-fit-text">We can act like a beginner, but learn like a pro.</h1>
</section>

<!-- Because this slide serves as a dramatic transition to the central problem of the chapter, this is a POWER TEXT slide. The phrase "But this raises a huge, seemingly impossible question" builds suspense and signals a major challenge. -->
<section>
    <h1 class="r-fit-text">But this raises a huge, seemingly <mark style="color: #ff6b6b;">impossible</mark> question.</h1>
</section>

<!-- Because this slide articulates the core problem—the data mismatch—this is a POWER TEXT slide. The question is broken into two parts for rhythm and impact, contrasting the "aggressive, high-risk" strategy with the "cautious, low-risk" experience. This clearly defines the challenge. -->
<section>
    <h2 class="r-fit-text">How can you learn about the champion's <mark>aggressive</mark> strategy...</h2>
    <h1 class="fragment fade-in r-fit-text">...while you're following your own <mark>cautious</mark> one?</h1>
</section>

<!-- Because this slide continues to explain the problem, it's a POWER TEXT slide. Text analysis: "The data you are collecting doesn't actually match the policy you're trying to learn about!" is a strong statement. Highlighting "doesn't match" and the "apples and oranges" analogy makes the problem undeniable. -->
<section>
    <h1 class="r-fit-text">The data you're collecting <mark style="color: #ff6b6b;">doesn't match</mark> the policy you're trying to learn about!</h1>
    <h2 class="fragment fade-in r-fit-text">It’s apples and oranges.</h2>
</section>

<!-- Because this slide teases the solution and sets up the next chapter, this is a POWER TEXT slide. It introduces the idea of a "clever mathematical trick" and the concept of "re-weighting" experience, building curiosity without giving away the full answer. -->
<section data-auto-animate>
    <h2 class="r-fit-text">The answer is a clever mathematical trick.</h2>
    <h1 class="fragment fade-in r-fit-text">A way to <mark>translate</mark> the student's experience to be relevant for the champion.</h1>
</section>

<!-- Because this slide is the final hook, it formally names the solution and the topic of the next chapter. Using data-auto-animate, it builds on the previous slide to reveal "Importance Sampling" as the "secret sauce," creating a powerful and memorable cliffhanger. -->
<section data-auto-animate>
    <h2 class="r-fit-text" style="opacity: 0.3;">The answer is a clever mathematical trick.</h2>
    <h1 class="r-fit-text" style="opacity: 0.3;">A way to <mark>translate</mark> the student's experience to be relevant for the champion.</h1>
    <h1 class="r-fit-text" style="margin-top: 50px;">This trick is the secret sauce. And it’s called <mark style="color: #4CAF50;">Importance Sampling</mark>.</h1>
</section>

<!-- END CHAPTER 11 -->

<!-- START CHAPTER 12 -->

<!-- Because this content sets up the core problem of the chapter, this is a POWER TEXT slide. Text analysis: "So we have a problem. A big one." is short and impactful. I'll break it into two slides for dramatic pacing, using data-auto-animate for a smooth reveal. -->
<section data-auto-animate>
    <h1 class="r-fit-text">So we have a problem.</h1>
</section>

<!-- Because this slide is the punchline to the previous setup, it's a POWER TEXT slide using data-auto-animate. Text analysis: "A big one." is short, punchy, and emphasizes the scale of the challenge we're about to face. -->
<section data-auto-animate>
    <h1 class="r-fit-text" style="opacity: 0.3;">So we have a problem.</h1>
    <h1 class="r-fit-text">A <mark>big</mark> one.</h1>
</section>

<!-- Because this content explains the problem using the student/champion analogy, this is a POWER TEXT slide. Text analysis: "Our student driver is generating the data, but we're trying to learn the strategy of a world champion" is broken into two impactful lines to highlight the contrast. -->
<section>
    <h2 class="r-fit-text">Our student driver is generating the data...</h2>
    <h1 class="fragment fade-in r-fit-text">...but we're trying to learn the strategy of a world champion.</h1>
</section>

<!-- Because this slide states the core issue in a single, powerful word, this is a POWER TEXT slide. Text analysis: "The data is biased." (17 characters) is a perfect, concise statement. Highlighting "biased" in red emphasizes the problem. -->
<section>
    <h1 class="r-fit-text">The data is <mark style="color: #ff6b6b;">biased</mark>.</h1>
</section>

<!-- Because this slide elaborates on the bias, it's a POWER TEXT slide. Text analysis: "The experiences don't match the policy we actually care about." (62 characters) is a great length for r-fit-text and clearly defines the source of the problem. -->
<section>
    <h1 class="r-fit-text">The experiences don't match the policy we actually care about.</h1>
</section>

<!-- Because this slide uses a classic, memorable analogy to summarize the data mismatch problem, this is a POWER TEXT slide. Text analysis: "It's apples and oranges." (24 characters) is a short, punchy phrase that stands on its own for maximum impact. -->
<section>
    <h1 class="r-fit-text">It’s apples and oranges.</h1>
</section>

<!-- Because this slide serves as a direct transition from the problem to the solution, this is a POWER TEXT slide. Text analysis: "So how do we fix it?" (20 characters) is a simple, engaging question that moves the narrative forward. -->
<section>
    <h1 class="r-fit-text">So how do we fix it?</h1>
</section>

<!-- Because this content introduces the conceptual solution, this is a POWER TEXT slide. Text analysis: "We need to mathematically correct for this bias" (46 characters) is a strong statement. Highlighting "correct" in green signals that we're moving towards a solution. -->
<section>
    <h1 class="r-fit-text">We need to mathematically <mark style="color: #4CAF50;">correct</mark> for this bias.</h1>
</section>

<!-- Because this slide uses a powerful metaphor to explain the correction, this is a POWER TEXT slide. The text "We need a bridge that connects the experiences of the explorer to the knowledge of the pro" is broken into two parts for rhythm and to emphasize the connection. -->
<section>
    <h2 class="r-fit-text">We need a bridge...</h2>
    <h1 class="fragment fade-in r-fit-text">...that connects the experiences of the explorer to the knowledge of the pro.</h1>
</section>

<!-- Because this slide reveals the name of the solution, it's a POWER TEXT slide designed as a title card. It builds anticipation before revealing the name "Importance Sampling" on a separate slide for maximum impact. -->
<section data-auto-animate>
    <h2 class="r-fit-text">This correction, this secret sauce that makes off-policy learning work, is called...</h2>
</section>

<!-- Because this is the big reveal of the chapter's topic, this is a POWER TEXT slide. The name "Importance Sampling" is presented on a black background, highlighted in green, to give it the weight and focus it deserves as the "secret sauce". -->
<section data-background-color="#000" data-auto-animate>
    <h1 class="r-fit-text" style="color: #4CAF50;">Importance Sampling.</h1>
</section>

<!-- Because this slide sets up a simple analogy to explain the concept, this is a POWER TEXT slide. Text analysis: "Think of it like this" (19 characters) is a classic transition phrase that prepares the audience for a more intuitive explanation. -->
<section>
    <h1 class="r-fit-text">Think of it like this.</h1>
</section>

<!-- Because this slide poses the central question of Importance Sampling, it's a critical POWER TEXT slide. The text is broken into a setup and the question itself, which is highlighted to emphasize its importance as the core logic of the technique. -->
<section>
    <h2 class="r-fit-text">Every time our student driver takes an action:</h2>
    <h1 class="fragment fade-in r-fit-text" style="margin-top: 50px;">How likely was the <mark>champion</mark> to do the exact same thing?</h1>
</section>

<!-- Because this slide explains the consequence of the central question, this is an EDUCATIONAL slide. A side-by-side comparison is the most effective way to contrast the two possible outcomes (relevant vs. useless experience), with color-coding making the distinction immediately obvious. -->
<section>
    <div style="display: flex; justify-content: space-around; gap: 40px; font-size: 1.2em;">
        <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #4CAF50;">Champion was likely to do it</h2>
            <p style="font-size: 1.5em;">Experience is <mark>important</mark>.</p>
        </div>
        <div class="fragment fade-in" style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #ff6b6b;">Champion would never do it</h2>
            <p style="font-size: 1.5em;">Experience is <mark>useless</mark>.</p>
        </div>
    </div>
</section>

<!-- Because this slide summarizes the output of Importance Sampling, this is a POWER TEXT slide. The text is broken into two lines to first introduce the concept of a "weight" and then explain what that weight represents, making the core idea digestible. -->
<section>
    <h2 class="r-fit-text">Importance Sampling gives us a <mark style="color: #4CAF50;">weight</mark> for every experience.</h2>
    <h1 class="fragment fade-in r-fit-text">Weight = how relevant it is.</h1>
</section>

<!-- Because this slide serves as a transition to the formal algorithm, this is a POWER TEXT slide. Text analysis: "And when we bake this idea into our full Monte Carlo algorithm... it looks like this" creates a two-beat rhythm that builds anticipation for the code reveal. -->
<section>
    <h2 class="r-fit-text">And when we bake this idea into our full Monte Carlo algorithm...</h2>
    <h1 class="fragment fade-in r-fit-text">...it looks like this.</h1>
</section>

<!-- Because this content presents the full, formal algorithm for Off-Policy control, this is a TECHNICAL slide. It's designed to be dense, showing the complete pseudocode at once. I've highlighted the new, critical lines related to Importance Sampling (`W` and the update rule) to draw the viewer's attention to the key changes. -->
<section>
    <h2 style="color: #4CAF50; margin-bottom: 20px;">Algorithm: Off-Policy Monte Carlo Control</h2>
    <pre style="font-size: 0.9em; width: 90%; margin: 0 auto;"><code class="language-yaml" data-trim data-line-numbers style="max-height: 95vh; white-space: pre-wrap; word-wrap: break-word; overflow-wrap: break-word;">
Initialize:
  Q(s,a) ← 0 for all s,a
  π ← greedy policy (target)
  b ← soft policy (behavior)

Loop forever (for each episode):
  Generate episode using b
  G ← 0
  W ← 1
  
  For each step t, from end to beginning:
    G ← G + R_{t+1}
    
    Q(S_t, A_t) ← Q(S_t, A_t) + W * [G - Q(S_t, A_t)]
    
    If A_t ≠ π(S_t): break
    W ← W * π(A_t | S_t) / b(A_t | S_t)
    </code></pre>
</section>

<!-- Because this slide is an empathetic reaction to the complex algorithm, this is a POWER TEXT slide. The text is broken into two short, punchy lines to create a sense of immediate reaction and to build rapport with the potentially overwhelmed audience. -->
<section>
    <h1 class="r-fit-text">Okay. Stop.</h1>
    <h1 class="fragment fade-in r-fit-text" style="color: #ff6b6b;">Don't panic.</h1>
</section>

<!-- Because this slide continues to acknowledge the complexity of the algorithm, it's a POWER TEXT slide. Text analysis: "I know that looks like a monster." is a direct and empathetic statement. The follow-up line points out the specific "scary" parts, validating the audience's reaction. -->
<section>
    <h1 class="r-fit-text">I know that looks like a monster.</h1>
    <h2 class="fragment fade-in r-fit-text">It’s got a `W`, a `C`, fractions, and a scary-looking update rule.</h2>
</section>

<!-- Because this slide provides reassurance and emphasizes the importance of the algorithm, this is a POWER TEXT slide. Text analysis: "But I promise you, this is the key to everything" (47 characters) is a strong, confident statement that reframes the complex algorithm as a powerful solution. -->
<section>
    <h1 class="r-fit-text">But I promise you, this is the <mark style="color: #4CAF50;">key to everything</mark>.</h1>
</section>

<!-- Because this slide provides a powerful, high-level summary of what the algorithm can achieve, this is a POWER TEXT slide. This connects the abstract code to a tangible, impressive outcome (beginner to grandmaster), making the complexity feel worthwhile. -->
<section>
    <h1 class="r-fit-text">Watch beginner play, learn to be <mark>grandmaster</mark>.</h1>
</section>

<!-- Because this slide is the final hook for the next chapter, it's a POWER TEXT slide. It makes a clear promise to the audience that the "monster" algorithm will be demystified, creating a strong reason to continue to the next section. -->
<section>
    <h2 class="r-fit-text">Next: break down the algorithm.</h2>
    <h1 class="fragment fade-in r-fit-text">Understand what `W` means.</h1>
</section>

<!-- END CHAPTER 12 -->

<!-- START CHAPTER 13 -->

<!-- Because this content sets the stage for the chapter by framing it as a manageable task, this is a POWER TEXT slide. Text analysis: "Alright, let's slay the monster" (29 characters) is a perfect, engaging opening that directly references the complexity from the previous chapter. -->
<section>
    <h1 class="r-fit-text">Alright, let's slay the monster.</h1>
</section>

<!-- Because this slide recaps the problem setup from the previous chapter, it's a POWER TEXT slide. Text analysis: The sentence is broken into two impactful lines to create a clear setup-and-solution rhythm. Highlighting "Importance Sampling" in green brands it as the "magical" solution we're about to explore. -->
<section>
    <h2 class="r-fit-text">We have the student driver generating data, and the champion we're trying to learn about.</h2>
    <h1 class="fragment fade-in r-fit-text">The bridge between them is <mark style="color: #4CAF50;">Importance Sampling</mark>.</h1>
</section>

<!-- Because this slide sets a clear expectation for the chapter—a step-by-step walkthrough—this is a POWER TEXT slide. The text is broken into a series of short, reassuring statements to build confidence and reduce any anxiety about complex formulas. -->
<section>
    <h1 class="r-fit-text">Now, we're going to walk through it, step-by-step.</h1>
    <h2 class="fragment fade-in r-fit-text" style="margin-top: 40px;">No more scary formulas for a minute.</h2>
    <h2 class="fragment fade-in r-fit-text">Just our simple race, two policies, and a mission.</h2>
</section>

<!-- Because this content establishes the critical setup and definitions for the entire chapter, this is a TECHNICAL slide. CRITICAL: This slide introduces the persistent context box that MUST appear across all subsequent walkthrough slides. It uses a side-by-side layout to clearly define the Target and Behavior policies, which is essential for understanding the ratio calculations later. -->
<section data-auto-animate>
    <div data-id="context-box" style="background-color: #333; padding: 15px; border-radius: 10px; margin-bottom: 30px;">
        <h3 style="color: #4CAF50; margin: 0; font-size: 1.8em;">The Setup: Our Two Policies</h3>
        <div style="display: flex; justify-content: space-around; gap: 40px; font-size: 1.1em; margin-top: 20px;">
            <div style="flex: 1;">
                <h4 style="color: #4CAF50;">1. Target Policy (π) - The Champion</h4>
                <p>The perfect, greedy policy we want to learn.</p>
                <p><code>π(Right | any state) = 1.0</code></p>
                <p><code>π(Left | any state) = 0.0</code></p>
            </div>
            <div style="flex: 1;">
                <h4 style="color: #ff6b6b;">2. Behavior Policy (b) - The Student</h4>
                <p>The random policy we use to generate data.</p>
                <p><code>b(Right | any state) = 0.5</code></p>
                <p><code>b(Left | any state) = 0.5</code></p>
            </div>
        </div>
    </div>
    <div class="fragment fade-in" style="margin-top: 40px; text-align: center;">
        <h2 style="font-size: 1.5em;">The Mission:</h2>
        <p style="font-size: 1.4em;">Learn the true value of <code style="font-size: 1.2em;">Q_π(A, Right)</code>.</p>
        <p style="font-size: 1.2em;">"What's the value of moving Right from A, if you act like a pro afterwards?"</p>
    </div>
</section>

<!-- Because this slide begins the step-by-step walkthrough of the first episode, this is a TECHNICAL slide. CRITICAL: The context box from the previous slide persists at the top, which is essential for viewers to remember the policy probabilities while following the calculation. The slide uses fragments to reveal the three-step process (Return, Ratio, Corrected Return) in a logical, easy-to-follow sequence. -->
<section data-auto-animate>
    <div data-id="context-box" style="background-color: #333; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
        <h3 style="color: #4CAF50; margin: 0; font-size: 1.8em;">The Setup: Our Two Policies</h3>
        <p style="font-size: 1.1em; margin-top: 10px;"><strong style="color: #4CAF50;">Target (π):</strong> Always Right (1.0) | <strong style="color: #ff6b6b;">Behavior (b):</strong> 50/50 Random (0.5) | <strong>Mission:</strong> Learn `Q_π(A, Right)`</p>
    </div>

    <h2 style="color: #4CAF50;">Episode 1: A Straight Shot</h2>
    <div style="font-size: 1.1em; line-height: 1.6;">
        <p><strong>Path:</strong> `S → [R] → A → [R] → B → [R] → C → [R] → G`</p>
        <div class="fragment fade-in">
            <p><strong>Step 1: Find the Return (G)</strong> from our pair `(A, Right)`</p>
            <p>Path was 3 moves: `A → B → C → G`. Return G = (3 × -1) + 10 = <strong style="font-size: 1.2em;">+7</strong>.</p>
        </div>
        <div class="fragment fade-in">
            <p><strong>Step 2: Calculate Importance Sampling Ratio (ρ)</strong></p>
            <p>\[ \rho = \frac{\pi(R|A)}{b(R|A)} \times \frac{\pi(R|B)}{b(R|B)} \times \frac{\pi(R|C)}{b(R|C)} = \frac{1.0}{0.5} \times \frac{1.0}{0.5} \times \frac{1.0}{0.5} = \mathbf{8.0} \]</p>
        </div>
        <div class="fragment fade-in">
            <p><strong>Step 3: Calculate Corrected Return</strong> = `ρ × G`</p>
            <p style="font-size: 1.4em;">Corrected Return = `8.0 × 7` = <strong style="color: #4CAF50;">+56</strong>.</p>
        </div>
    </div>
</section>

<!-- Because this slide continues the walkthrough with a new episode, this is a TECHNICAL slide using data-auto-animate for a smooth transition. The persistent context box is essential. The layout is identical to the previous slide, allowing the audience to easily compare the new results and see how a different path and ratio lead to a very different corrected return. -->
<section data-auto-animate>
    <div data-id="context-box" style="background-color: #333; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
        <h3 style="color: #4CAF50; margin: 0; font-size: 1.8em;">The Setup: Our Two Policies</h3>
        <p style="font-size: 1.1em; margin-top: 10px;"><strong style="color: #4CAF50;">Target (π):</strong> Always Right (1.0) | <strong style="color: #ff6b6b;">Behavior (b):</strong> 50/50 Random (0.5) | <strong>Mission:</strong> Learn `Q_π(A, Right)`</p>
    </div>

    <h2 style="color: #4CAF50;">Episode 2: A Slippery Detour</h2>
    <div style="font-size: 1.1em; line-height: 1.6;">
        <p><strong>Path:</strong> `S→[R]→A→[R]→B→[R]→C→[slip]→B→[R]→C→[R]→G`</p>
        <div class="fragment fade-in">
            <p><strong>Step 1: Find the Return (G)</strong></p>
            <p>Path was 5 moves. Return G = (5 × -1) + 10 = <strong style="font-size: 1.2em;">+5</strong>.</p>
        </div>
        <div class="fragment fade-in">
            <p><strong>Step 2: Calculate Ratio (ρ)</strong> for the 5 `[Right]` moves.</p>
            <p>\[ \rho = (\frac{1.0}{0.5})^5 = 2^5 = \mathbf{32.0} \]</p>
        </div>
    </div>
</section>

<!-- Because this slide provides a key insight about why the ratio was so large, this is a POWER TEXT slide. It serves as a brief "aha!" moment, explaining the intuition behind the math from the previous slide. Highlighting "very unlikely" for the student vs. the "only thing" for the champion makes the contrast clear. -->
<section>
    <h2 class="r-fit-text">Why so big? Because 5 `[Right]` moves is <mark>very unlikely</mark> for the student, but it's the <mark>only thing</mark> the champion would do!</h2>
</section>

<section>
    <h2 style="color: #4CAF50;">Episode 2: A Slippery Detour (continued)</h2>
    <div style="font-size: 1.1em; line-height: 1.6;">
        <div class="fragment fade-in">
            <p><strong>Step 3: Calculate Corrected Return</strong> = `ρ × G`</p>
            <p style="font-size: 1.4em;">Corrected Return = `32.0 × 5` = <strong style="color: #4CAF50;">+160</strong>.</p>
        </div>
    </div>
</section>

<!-- Because this slide provides the reaction to the big number, this is a POWER TEXT slide. -->
<section>
    <h1 class="r-fit-text">Whoa. Look at that ratio: <mark>32.0</mark></h1>
</section>

<!-- Because this content explains a critical edge case—what happens when the data is irrelevant—this is an EDUCATIONAL slide. It clearly shows the episode path that violates the condition and states the consequence in a direct, easy-to-understand manner. -->
<section>
    <h2 style="color: #ff6b6b;">Episode 3: An Irrelevant Episode</h2>
    <div style="font-size: 1.3em; margin-top: 50px; text-align: center;">
        <p>What if our student does this?</p>
        <p style="font-family: monospace; font-size: 1.2em; margin: 30px 0;">S → [Right] → A → [Left] → S → ...</p>
        <p class="fragment fade-in">The moment it took `[Left]` from A, it violated our condition.</p>
        <p class="fragment fade-in" style="font-size: 1.4em; margin-top: 40px;">For learning `Q_π(A, Right)`, this entire episode is <strong style="color: #ff6b6b;">thrown in the trash</strong>.</p>
    </div>
</section>

<!-- Because this slide transitions from the walkthrough to the new problem, this is a POWER TEXT slide. "So let's take stock" is a classic phrase to signal a summary and a shift in focus. -->
<section>
    <h1 class="r-fit-text">So let's take stock.</h1>
</section>

<!-- Because this slide presents the collected data and sets up the problem of variance, this is an EDUCATIONAL slide. It clearly shows the two corrected data points in a "notebook" format, making the results tangible and setting the stage for the big reveal of the new problem. -->
<section>
    <h2 style="font-size: 2em;">After just two useful episodes, our notebook for `Q_π(A, Right)` has two corrected data points:</h2>
    <div style="margin: 50px 0; background-color: #222; padding: 30px; border-radius: 10px;">
        <p style="font-size: 2em; margin: 0; text-align: center;">Returns: <code style="font-size: 1.5em; color: #4CAF50;">[+56, +160]</code></p>
    </div>
</section>

<!-- Because this slide is a reaction to the data, highlighting the new problem, this is a POWER TEXT slide. It breaks down the reaction into multiple short, punchy slides for dramatic effect, using data-auto-animate for a smooth reveal. -->
<section data-auto-animate>
    <h1 class="r-fit-text">Look at those numbers.</h1>
</section>

<!-- Because this slide continues the dramatic reveal, it's a POWER TEXT slide using data-auto-animate. The numbers are presented on their own in a large font to emphasize their magnitude and the difference between them. -->
<section data-auto-animate>
    <h1 class="r-fit-text" style="opacity: 0.3;">Look at those numbers.</h1>
    <h1 style="font-size: 10em;"><span style="color: #4CAF50;">+56</span>. <span style="color: #4CAF50;">+160</span>.</h1>
</section>

<!-- Because this slide delivers the punchline of the new problem, this is a POWER TEXT slide using data-auto-animate. The word "HUGE" is highlighted in red to underscore the severity of the variance issue. -->
<section data-auto-animate>
    <h1 class="r-fit-text" style="opacity: 0.3;">Look at those numbers.</h1>
    <h1 style="font-size: 10em; opacity: 0.3;"><span style="color: #4CAF50;">+56</span>. <span style="color: #4CAF50;">+160</span>.</h1>
    <h1 class="r-fit-text" style="margin-top: 50px;">The variance is <mark style="color: #ff6b6b;">HUGE</mark>.</h1>
</section>

<!-- Because this slide reveals the new problem after showing the variance, this is a POWER TEXT slide. -->
<section>
    <h1 class="r-fit-text" style="color: #ff6b6b;">This is a massive, dangerous new problem.</h1>
</section>

<!-- Because this slide explains the consequence of high variance, this is a POWER TEXT slide. Text analysis: The sentence is broken into two parts to create a clear cause-and-effect relationship, with the final phrase "completely derail our learning" highlighted in red for emphasis. -->
<section>
    <h2 class="r-fit-text">A single rare event with a massive importance sampling ratio...</h2>
    <h1 class="fragment fade-in r-fit-text">...could <mark style="color: #ff6b6b;">completely derail our learning</mark>.</h1>
</section>

<!-- Because this slide provides the key insight that we've swapped one problem for another, this is a POWER TEXT slide. The text is broken into two impactful statements, contrasting the solved problem (bias) with the new one (variance) to make the trade-off crystal clear. -->
<section>
    <h2 class="r-fit-text">We've successfully corrected for the <mark style="color: #4CAF50;">bias</mark> of using the wrong policy.</h2>
    <h1 class="fragment fade-in r-fit-text">But in doing so, we've introduced wild, <mark style="color: #ff6b6b;">unstable swings</mark>.</h1>
</section>

<!-- Because this slide delivers the punchline of the trade-off, this is a POWER TEXT slide. Text analysis: "We've traded one problem for another" (34 characters) is a perfect, concise summary of the chapter's climax. -->
<section>
    <h1 class="r-fit-text">We've traded one problem for another.</h1>
</section>

<!-- END CHAPTER 13 -->

<!-- START CHAPTER 14 -->

<!-- Because this slide poses the central question for this chapter, it's a POWER TEXT slide. Text analysis: The question "How do we use these corrected returns to learn in a stable, predictable way?" (78 characters) is a perfect length for r-fit-text and clearly sets the goal for the solution we're about to build. -->
<section>
    <h1 class="r-fit-text">So how do we fix this?</h1>
    <h2 class="fragment fade-in r-fit-text">How do we use these corrected returns to learn in a <mark>stable</mark>, predictable way?</h2>
</section>

<!-- Because this slide reveals the core solution, this is a POWER TEXT slide. The text is broken into two parts to create a contrast between the old, flawed method (simple average) and the new, superior one (weighted average), which is highlighted in green to brand it as the solution. -->
<section>
    <h2 class="r-fit-text">The solution is to stop using a simple average...</h2>
    <h1 class="fragment fade-in r-fit-text">...and start using a <mark style="color: #4CAF50;">Weighted Average</mark>.</h1>
</section>

<!-- Because this slide introduces the new technical component needed for the solution, this is an EDUCATIONAL slide. It clearly defines the two key pieces of data we'll now track in our "notebook," with the new component `C(s, a)` highlighted and explained as the "total weight of evidence". -->
<section>
    <h2 style="font-size: 1.8em;">We're going to add one more number to our notebook for each state-action pair:</h2>
    <div style="font-size: 1.3em; line-height: 1.8; text-align: left; width: 80%; margin: 50px auto;">
        <p>1. <strong><code>Q(s, a)</code>:</strong> Our current best estimate of the value.</p>
        <p class="fragment fade-in">2. <strong><code>C(s, a)</code>:</strong> The <mark>cumulative sum</mark> of all the importance sampling ratios (ρ) we've ever seen for this pair.</p>
    </div>
    <p class="fragment fade-in" style="font-size: 1.4em;">Think of <code>C</code> as the total "weight of evidence" we have gathered.</p>
</section>

<!-- Because this content begins the step-by-step walkthrough of the new, stable algorithm, this is a TECHNICAL slide. CRITICAL: This slide establishes the persistent context box that MUST appear on the next two slides. It contains the episode data (Return G, Ratio ρ) and the formula, which are essential for following the calculations. -->
<section data-auto-animate>
    <div style="padding: 20px;">
        <div data-id="context-box" style="background-color: #333; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
            <h3 style="color: #4CAF50; margin: 0; font-size: 1.6em;">Episode 1: The First Update</h3>
            <div style="font-size: 1.1em; margin-top: 10px;">
                <p><strong>Data:</strong> Return `G = +7`, Importance Ratio `ρ = 8.0`</p>
                <p><strong>Initial State:</strong> `Q(A, Right) = 0`, `C(A, Right) = 0`</p>
                <p><strong>Update Rule:</strong> `Q_new = Q_old + (ρ / C_new) * [G - Q_old]`</p>
            </div>
        </div>
        <div style="font-size: 1.2em; line-height: 1.6;">
            <div class="fragment fade-in">
                <p><strong>Step 1: Update Cumulative Weight `C`</strong></p>
                <p><code>C(A, Right) = C_old + ρ = 0 + 8.0 = 8.0</code></p>
            </div>
            <div class="fragment fade-in" style="margin-top: 30px;">
                <p><strong>Step 2: Update Q-Value `Q`</strong></p>
                <p><code>Q(A, Right) = 0 + (8.0 / 8.0) * [7 - 0]</code></p>
                <p><code>Q(A, Right) = 1.0 * 7 = 7.0</code></p>
            </div>
        </div>
    </div>
</section>

<!-- Because this slide continues the walkthrough with the second episode, this is a TECHNICAL slide using data-auto-animate for a smooth transition. CRITICAL: The persistent context box is updated with the new episode's data, which is essential for understanding the new calculation. The layout is identical to the previous slide, allowing the audience to easily see how the values evolve. -->
<section data-auto-animate>
    <div style="padding: 20px;">
        <div data-id="context-box" style="background-color: #333; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
            <h3 style="color: #4CAF50; margin: 0; font-size: 1.6em;">Episode 2: The Stable Update</h3>
            <div style="font-size: 1.1em; margin-top: 10px;">
                <p><strong>Data:</strong> Return `G = +5`, Importance Ratio `ρ = 32.0`</p>
                <p><strong>Previous State:</strong> `Q(A, Right) = 7.0`, `C(A, Right) = 8.0`</p>
                <p><strong>Update Rule:</strong> `Q_new = Q_old + (ρ / C_new) * [G - Q_old]`</p>
            </div>
        </div>
        <div style="font-size: 1.2em; line-height: 1.6;">
            <div class="fragment fade-in">
                <p><strong>Step 1: Update Cumulative Weight `C`</strong></p>
                <p><code>C(A, Right) = C_old + ρ = 8.0 + 32.0 = 40.0</code></p>
            </div>
            <div class="fragment fade-in" style="margin-top: 30px;">
                <p><strong>Step 2: Update Q-Value `Q`</strong></p>
                <p><code>Q(A, Right) = 7.0 + (32.0 / 40.0) * [5 - 7.0]</code></p>
                <p><code>Q(A, Right) = 7.0 + 0.8 * [-2.0]</code></p>
                <p><code>Q(A, Right) = 7.0 - 1.6 =</code> <strong style="font-size: 1.4em; color: #4CAF50;">5.4</strong></p>
            </div>
        </div>
    </div>
</section>

<!-- Because this slide serves as a dramatic pause to command the audience's attention before the big reveal, this is a POWER TEXT slide. I'm breaking the phrase "Now stop. Look at what just happened. This is the entire payoff" into three separate slides to maximize the dramatic effect, following the frequent change principle. -->
<section data-auto-animate>
    <h1 class="r-fit-text">Now stop.</h1>
</section>

<!-- Because this slide continues the dramatic pause, it's a POWER TEXT slide using data-auto-animate. This builds anticipation for the explanation of the result. -->
<section data-auto-animate>
    <h1 class="r-fit-text" style="opacity: 0.3;">Now stop.</h1>
    <h1 class="r-fit-text">Look at what just happened.</h1>
</section>

<!-- Because this slide completes the dramatic phrase, it's a POWER TEXT slide using data-auto-animate. "This is the entire payoff" signals to the audience that the most important insight of the chapter is about to be revealed. -->
<section data-auto-animate>
    <h1 class="r-fit-text" style="opacity: 0.3;">Now stop.</h1>
    <h1 class="r-fit-text" style="opacity: 0.3;">Look at what just happened.</h1>
    <h1 class="r-fit-text" style="color: #4CAF50; margin-top: 50px;">This is the entire payoff.</h1>
</section>

<!-- Because this is the "aha!" moment slide directly comparing the flawed method with the new, stable one, this is a critical EDUCATIONAL slide. The side-by-side layout with clear color-coding (red for the disastrous result, green for the stable one) makes the superiority of Weighted Importance Sampling undeniable. -->
<section>
    <div style="display: flex; justify-content: space-around; gap: 40px; font-size: 1.2em;">
        <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #ff6b6b;">Simple Average</h2>
            <p>Our estimate was a crazy value of <strong style="font-size: 2em;">108</strong>.</p>
            <p class="fragment fade-in">Completely thrown off by one high-variance sample.</p>
        </div>
        <div class="fragment fade-in" style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #4CAF50;">Weighted Importance Sampling</h2>
            <p>Our estimate is an incredibly stable <strong style="font-size: 2em;">5.4</strong>.</p>
            <p class="fragment fade-in">The high-variance sample pulled our estimate, but didn't overwhelm it.</p>
        </div>
    </div>
</section>

<!-- Because this slide explains the core mathematical intuition behind why the new method works, this is a POWER TEXT slide. It identifies the `(ρ / C)` term as the "smart, self-adjusting learning rate," providing a simple, memorable name for the key mechanism. -->
<section>
    <h2 class="r-fit-text">The <code>(ρ / C)</code> term, <code>32/40</code> in our case, acted as a smart, self-adjusting learning rate.</h2>
</section>

<!-- Because this slide explains the long-term benefit of the self-adjusting learning rate, this is a POWER TEXT slide. It builds on the previous slide to explain the concept of convergence, making it clear how the agent's estimates will become more stable over time. -->
<section>
    <h2 class="r-fit-text">As we gather more episodes, our total weight <code>C</code> will grow larger and larger.</h2>
    <h1 class="fragment fade-in r-fit-text">The effect of any single new episode will become smaller and smaller.</h1>
    <p class="fragment fade-in" style="font-size: 1.5em; margin-top: 40px;">This allows our estimate to converge <mark style="color: #4CAF50;">smoothly and stably</mark>.</p>
</section>

<!-- Because this slide is a powerful, declarative statement summarizing the achievement of the entire chapter, this is a POWER TEXT slide. Text analysis: "This is how we tame the monster of variance" (42 characters) is a perfect, metaphorical punchline that fits r-fit-text well. -->
<section data-background-color="#000">
    <h1 class="r-fit-text" style="color: #4CAF50;"><em>This</em> is how we tame the monster of variance.</h1>
</section>

<!-- Because this slide serves as a major milestone and summary for the entire Off-Policy section, this is a POWER TEXT slide. It connects all the pieces together—the student driver analogy, the messy experience, and the final goal of a stable, optimal strategy—into one cohesive achievement. -->
<section>
    <h2 class="r-fit-text">This is the final piece of the off-policy puzzle.</h2>
    <h1 class="fragment fade-in r-fit-text">We can use a student's biased, messy experience to learn the perfect, stable, optimal strategy of a world champion.</h1>
</section>

<!-- Because this slide serves as a dramatic pivot from the solution to the next major problem, this is a POWER TEXT slide. It begins with a celebratory statement ("This is a massive achievement") before using "But..." to create a sharp turn in the narrative, building suspense for the final chapters. -->
<section data-auto-animate>
    <h1 class="r-fit-text">This is a massive achievement.</h1>
    <h1 class="fragment fade-in r-fit-text">But...</h1>
</section>

<!-- Because this slide reveals the nature of the new problem, this is a POWER TEXT slide using data-auto-animate. Text analysis: "Monte Carlo methods... have one glaring, fundamental weakness" (66 characters) is a great length for a hook. Highlighting "weakness" in red clearly signals the new conflict. -->
<section data-auto-animate>
    <h1 class="r-fit-text">Monte Carlo methods, for all their power, have one glaring, fundamental <mark style="color: #ff6b6b;">weakness</mark>.</h1>
</section>

<!-- Because this slide names the weakness and sets up the final hook for the next chapter, this is a POWER TEXT slide. It identifies the problem as being "painfully slow" and frames the next chapter as the final step before moving to the heart of modern Reinforcement Learning. -->
<section>
    <h2 class="r-fit-text">A weakness that makes them <mark>painfully slow</mark>.</h2>
    <h1 class="fragment fade-in r-fit-text">And understanding that weakness is the final step on our journey...</h1>
    <h1 class="fragment fade-in r-fit-text">...before we leap into the true heart of modern RL.</h1>
</section>

<!-- END CHAPTER 14 -->

<!-- START CHAPTER 15 -->

<!-- Because this content serves as a celebratory recap of everything achieved so far with Monte Carlo, this is a POWER TEXT slide. Text analysis: "We've done it. We have successfully built a system where an agent can learn from scratch" is a strong opening. I'll break it into two parts for rhythm and impact. -->
<section data-auto-animate>
    <h1 class="r-fit-text">We've done it.</h1>
    <h2 class="r-fit-text">We have successfully built a system where an agent can learn from scratch.</h2>
</section>

<!-- Because this slide continues the recap, it's a POWER TEXT slide using data-auto-animate for a smooth transition. Highlighting "without a map" and "just by playing the game" reinforces the core principles of model-free learning that have been the focus of the series. -->
<section data-auto-animate>
    <h1 class="r-fit-text" style="opacity: 0.3;">We've done it.</h1>
    <h2 class="r-fit-text">We have successfully built a system where an agent can learn from scratch, <mark>without a map</mark>, just by <mark>playing the game</mark>.</h2>
</section>

<!-- Because this slide summarizes the key technical achievements in a concise way, this is a POWER TEXT slide. It quickly lists the major concepts (Q-values, On-Policy, Off-Policy) to remind the audience of the journey and build a sense of accomplishment before the pivot. -->
<section>
    <h2 class="r-fit-text">We shifted to Q-values, and tackled the exploration dilemma with...</h2>
    <div class="fragment fade-in" style="display: flex; justify-content: space-around; gap: 40px; font-size: 1.5em; margin-top: 50px;">
        <div style="flex: 1; text-align: center;">
            <p><strong style="color: #4CAF50;">On-Policy</strong> (ε-Greedy)</p>
        </div>
        <div style="flex: 1; text-align: center;">
            <p><strong style="color: #4CAF50;">Off-Policy</strong> (Importance Sampling)</p>
        </div>
    </div>
</section>

<!-- Because this slide delivers a final, strong statement of success before the turn, this is a POWER TEXT slide. Text analysis: "Monte Carlo learning is a massive leap forward" (45 characters) is a perfect, celebratory statement to cap off the recap. -->
<section>
    <h1 class="r-fit-text">Monte Carlo learning is a <mark style="color: #4CAF50;">massive leap forward</mark>.</h1>
</section>

<!-- Because this slide serves as a dramatic pivot from success to a new problem, this is a POWER TEXT slide. The word "But..." creates a sharp turn in the narrative, and highlighting "painful flaw" in red immediately signals that something is wrong. -->
<section>
    <h2 class="r-fit-text">But it has one significant, glaring, and frankly, <mark style="color: #ff6b6b;">painful flaw</mark>.</h2>
</section>

<!-- Because this slide reveals the single, core weakness of Monte Carlo, it is a POWER TEXT slide designed for maximum impact. The phrase "incredibly slow" is highlighted in red and presented alone to emphasize the severity of the problem. -->
<section data-background-color="#000">
    <h1 class="r-fit-text">It is <mark style="color: #ff6b6b;">incredibly slow</mark>.</h1>
</section>

<!-- Because this slide explains the fundamental reason for the slowness, this is a POWER TEXT slide. Text analysis: "Monte Carlo methods only update their knowledge at the very end of an episode" (79 characters) is a great length for r-fit-text. Highlighting "end of an episode" focuses attention on the core limitation. -->
<section>
    <h1 class="r-fit-text">The reason is that Monte Carlo methods only update their knowledge at the very <mark>end of an episode</mark>.</h1>
</section>

<!-- Because this slide elaborates on the "end of episode" problem, it's a POWER TEXT slide. It paints a clear picture of the inefficient process, reinforcing why the method is so slow and setting up the chess analogy. -->
<section>
    <h2 class="r-fit-text">The agent must play an entire game, from start to finish, get the final score...</h2>
    <h1 class="fragment fade-in r-fit-text">...and <mark>only then</mark> can it look back and learn anything.</h1>
</section>

<!-- Because this slide introduces the chapter's main analogy, this is a POWER TEXT slide. Text analysis: "Let me make this painfully clear with an analogy" (47 characters) is a classic transition that signals a shift to a story-based explanation. -->
<section>
    <h1 class="r-fit-text">Let me make this painfully clear with an analogy.</h1>
</section>

<!-- Because this slide sets the scene for the chess analogy, this is a POWER TEXT slide. It provides the initial context for the story that will illustrate the core flaw of Monte Carlo. -->
<section data-auto-animate>
    <h2 class="r-fit-text">Imagine you're playing a long, intense game of chess.</h2>
</section>

<!-- Because this slide describes the positive, brilliant action within the analogy, this is a POWER TEXT slide using data-auto-animate. Highlighting "brilliant move" in green establishes this as a good action that should be rewarded. -->
<section data-auto-animate>
    <h2 class="r-fit-text" style="opacity: 0.3;">Imagine you're playing a long, intense game of chess.</h2>
    <h1 class="r-fit-text">On turn 5, you make a <mark style="color: #4CAF50;">brilliant move</mark>.</h1>
    <p class="fragment fade-in" style="font-size: 1.5em;">A stunning queen sacrifice that cracks the defense.</p>
</section>

<!-- Because this slide describes the negative, disastrous action, this is a POWER TEXT slide. It creates a sharp contrast with the previous slide, highlighting the "stupid blunder" in red to establish it as the clear cause of the loss. -->
<section>
    <h2 class="r-fit-text">The game continues for 35 more turns.</h2>
    <h1 class="fragment fade-in r-fit-text">But then, on turn 40, you get tired. You miscalculate.</h1>
    <h1 class="fragment fade-in r-fit-text">You make a <mark style="color: #ff6b6b;">stupid, simple blunder</mark>, and you lose.</h1>
</section>

<!-- Because this slide delivers the final outcome of the analogy, it's a POWER TEXT slide. The simple, stark statement "The game is over. The final score is -1." provides a clear, negative result that the Monte Carlo agent will now analyze. -->
<section>
    <h2 class="r-fit-text">The game is over.</h2>
    <h1 class="r-fit-text">The final score is <strong style="font-size: 1.5em; color: #ff6b6b;">-1</strong>.</h1>
</section>

<!-- Because this slide explains the flawed logic of the Monte Carlo agent, this is a critical EDUCATIONAL slide. It clearly states the incorrect credit assignment, highlighting "every single state-action pair" to show how the final score is wrongly applied to the entire history. -->
<section>
    <h2 style="font-size: 1.8em;">Now, the Monte Carlo agent analyzes this episode.</h2>
    <p class="fragment fade-in" style="font-size: 1.4em;">It sees the final outcome was a loss. And it assigns that negative outcome to <mark>every single state-action pair</mark> in the entire game's history.</p>
</section>

<!-- Because this is the "aha!" moment and the punchline of the entire analogy, this is a POWER TEXT slide. It directly contrasts the two key actions, using colors to highlight the "blunder" (red) vs. the "brilliant queen sacrifice" (green), and emphasizes the core flaw by highlighting "also blames". -->
<section>
    <h2 class="r-fit-text">It blames the <mark style="color: #ff6b6b;">blunder on turn 40</mark>, sure.</h2>
    <h1 class="fragment fade-in r-fit-text">But it <mark>also blames</mark> the <mark style="color: #4CAF50;">brilliant queen sacrifice on turn 5</mark>.</h1>
</section>

<!-- Because this slide summarizes the consequence of the flawed credit assignment, this is a POWER TEXT slide. Text analysis: The phrase "paints the entire history with the same brush" is a powerful and memorable metaphor that perfectly encapsulates the problem. -->
<section>
    <h2 class="r-fit-text">It has no way to know which move was good and which was bad.</h2>
    <h1 class="fragment fade-in r-fit-text">It just sees the final score and <mark>paints the entire history with the same brush</mark>.</h1>
</section>

<!-- Because this content formally names the two disastrous consequences of the "wait-until-the-end" approach, this is a TECHNICAL slide. A side-by-side comparison is the most effective way to teach this distinction. Color-coding and clear, concise descriptions make the complex ideas easy to digest. -->
<section>
    <h2 style="margin-bottom: 50px;">Two problems with "wait-until-the-end":</h2>
    <div style="display: flex; justify-content: space-around; gap: 40px; font-size: 1.2em;">
        <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #ff6b6b;">High Variance</h2>
            <p>One lucky action <mark>misleads</mark> all previous actions.</p>
        </div>
        <div class="fragment fade-in" style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #ff6b6b;">Slow Learning</h2>
            <p>1,000 steps = <mark>one update</mark>. Waste of experience.</p>
        </div>
    </div>
</section>

<!-- Because this slide serves as a transition from the problem to the solution, this is a POWER TEXT slide. It uses a rhetorical question to signal a shift in thinking and to build anticipation for the final chapter's topic. -->
<section>
    <h2 class="r-fit-text">This limitation begs a crucial question.</h2>
    <h1 class="fragment fade-in r-fit-text">A question that will lead us to the true heart of modern Reinforcement Learning.</h1>
</section>

<!-- Because this slide poses the central question that will define the next chapter, this is a POWER TEXT slide. Text analysis: ""Can we get the best of both worlds?"" (37 characters) is a perfect, concise hook that encapsulates the desired solution. -->
<section>
    <h1 class="r-fit-text">"Can we get the <mark>best of both worlds</mark>?"</h1>
</section>

<!-- Because this slide breaks down the "best of both worlds" concept, this is a POWER TEXT slide. It uses a multi-part reveal with data-auto-animate to contrast the strengths of Dynamic Programming (step-by-step learning) and Monte Carlo (model-free experience), clearly defining the ideal algorithm. -->
<section data-auto-animate>
    <h2 class="r-fit-text">Can we learn <mark style="color: #4CAF50;">step-by-step</mark>, learning from mistakes immediately?</h2>
</section>

<!-- Because this slide completes the contrast, it's a POWER TEXT slide using data-auto-animate. The combination of "step-by-step" and "without a model" clearly states the goal for the next and final chapter, setting up the introduction of Temporal-Difference learning. -->
<section data-auto-animate>
    <h2 class="r-fit-text" style="opacity: 0.3;">Can we learn <mark style="color: #4CAF50;">step-by-step</mark>, learning from mistakes immediately?</h2>
    <h1 class="r-fit-text">But do it <mark style="color: #4CAF50;">without a model</mark>, from experience?</h1>
</section>

<!-- Because this is the final, definitive answer and the ultimate hook for the final chapter, this is a POWER TEXT slide. The single phrase "a resounding yes" is presented in a large font for maximum impact, creating a powerful and optimistic cliffhanger. -->
<section>
    <h2 class="r-fit-text">The answer is...</h2>
    <h1 class="fragment fade-in r-fit-text" style="color: #4CAF50;">a resounding yes.</h1>
</section>

<!-- END CHAPTER 15 -->

<!-- START CHAPTER 16 -->

<!-- Because this content serves as a dramatic, chapter-opening statement, this is a POWER TEXT slide. Text analysis: "So this is it." (12 characters) is short and punchy. It's followed by "We are standing at a crossroads..." on a separate slide to create a deliberate, thoughtful pace, setting the stage for the major comparison to come. -->
<section data-auto-animate>
    <h1 class="r-fit-text">So this is it.</h1>
</section>

<!-- Because this slide continues the opening thought from the previous one, it's a POWER TEXT slide using data-auto-animate for a smooth transition. Text analysis: "We are standing at a crossroads between two powerful ideas" (58 characters) is a perfect length for r-fit-text and establishes the central conflict of the chapter. -->
<section data-auto-animate>
    <h1 class="r-fit-text" style="opacity: 0.3;">So this is it.</h1>
    <h1 class="r-fit-text">We are standing at a crossroads between two powerful ideas.</h1>
</section>

<!-- Because this content directly compares the two major concepts we've discussed (Dynamic Programming vs. Monte Carlo), this is a critical TECHNICAL slide. A side-by-side layout is the most effective way to teach this distinction. Each side highlights the core strength (green) and fatal flaw (red) of the respective method, making the trade-off visually explicit. -->
<section>
    <div style="display: flex; justify-content: space-around; gap: 40px; font-size: 1.2em;">
        <div style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #4CAF50;">Dynamic Programming</h2>
            <p>Learns <mark>step-by-step</mark>.</p>
            <p class="fragment fade-in" style="color: #ff6b6b;">Needs perfect map.</p>
        </div>
        <div class="fragment fade-in" style="flex: 1; text-align: center; background-color: #333; padding: 20px; border-radius: 10px; display: flex; flex-direction: column; justify-content: center;">
            <h2 style="color: #4CAF50;">Monte Carlo</h2>
            <p>Learns from <mark>raw experience</mark>.</p>
            <p class="fragment fade-in" style="color: #ff6b6b;">Waits until game ends.</p>
        </div>
    </div>
</section>

<!-- Because this slide continues the thought from the previous one, it's a POWER TEXT slide using data-auto-animate. Text analysis: "The question that changes everything." (35 characters) elevates the stakes and signals to the audience that a major breakthrough is coming. -->
<section>
    <h1 class="r-fit-text">The question that changes everything.</h1>
</section>

<!-- Because this slide poses the central, motivating question for the final part of the series, this is a POWER TEXT slide. Text analysis: "Can we have it all?" (19 characters) is a perfect, concise hook that encapsulates the desired solution. -->
<section>
    <h1 class="r-fit-text">Can we have it all?</h1>
</section>

<!-- Because this slide begins to break down the "best of both worlds" concept, this is a POWER TEXT slide. It uses a multi-part reveal with data-auto-animate to clearly define the ideal algorithm by combining the strengths of the two methods we've just discussed. -->
<section data-auto-animate>
    <h2 class="r-fit-text">Can we get the immediate, <mark style="color: #4CAF50;">step-by-step learning</mark> of Dynamic Programming...</h2>
</section>

<!-- Because this slide completes the contrast, it's a POWER TEXT slide using data-auto-animate. The combination of "step-by-step" and "without a model" clearly states the goal for the final chapter, setting up the introduction of Temporal-Difference learning. -->
<section data-auto-animate>
    <h2 class="r-fit-text" style="opacity: 0.3;">Can we get the immediate, <mark style="color: #4CAF50;">step-by-step learning</mark> of Dynamic Programming...</h2>
    <h1 class="r-fit-text">...but do it <mark style="color: #4CAF50;">without a model</mark>, learning from experience like Monte Carlo?</h1>
</section>

<!-- Because this slide poses the final, summary question, this is a POWER TEXT slide. It rephrases the previous two slides into a single, memorable phrase that perfectly captures the goal. -->
<section>
    <h1 class="r-fit-text">Can we get the <mark>best of both worlds</mark>?</h1>
</section>

<!-- Because this is the definitive answer and the ultimate punchline, this is a POWER TEXT slide. The phrase "a resounding yes" is presented in a large font and highlighted in green for maximum impact, creating a powerful and optimistic moment. -->
<section>
    <h2 class="r-fit-text">The answer is...</h2>
    <h1 class="fragment fade-in r-fit-text" style="color: #4CAF50;">a resounding yes.</h1>
</section>

<!-- END CHAPTER 16 -->
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.2.1/reveal.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.2.1/plugin/highlight/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.2.1/plugin/math/math.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js-mermaid-plugin@2.1.0/plugin/mermaid/mermaid.js"></script>
    <script>
        Reveal.initialize({
            katex: {
                version: 'latest',
                delimiters: [
                { left: '\\(', right: '\\)', display: false },
                { left: '\\[', right: '\\]', display: true },
                ],
                ignoredTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            },
            plugins: [ RevealHighlight, RevealMath.KaTeX, RevealMermaid ],
            width: 1920,
            height: 1080,
        });
    </script>
</body>
</html>